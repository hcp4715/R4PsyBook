<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 第十一讲：回归模型(四)：中介分析 | R语言在心理学研究中的应用: 从原始数据到可重复的论文手稿(V2)</title>
  <meta name="description" content="课程bookdown" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 第十一讲：回归模型(四)：中介分析 | R语言在心理学研究中的应用: 从原始数据到可重复的论文手稿(V2)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="课程bookdown" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 第十一讲：回归模型(四)：中介分析 | R语言在心理学研究中的应用: 从原始数据到可重复的论文手稿(V2)" />
  
  <meta name="twitter:description" content="课程bookdown" />
  

<meta name="author" content="胡传鹏(等)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="第十讲回归模型三广义线性模型.html"/>
<link rel="next" href="第十二讲数据可视化进阶.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
<script src="libs/panelset-0.2.6/panelset.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.11/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R语言在心理学研究中的应用</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>引言</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#开放电子书的初衷"><i class="fa fa-check"></i><b>0.1</b> 开放电子书的初衷</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#如何帮助完善本书"><i class="fa fa-check"></i><b>0.2</b> 如何帮助完善本书</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#使用许可"><i class="fa fa-check"></i><b>0.3</b> 使用许可</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#目录"><i class="fa fa-check"></i><b>0.4</b> 目录</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="关于作者.html"><a href="关于作者.html"><i class="fa fa-check"></i>关于作者</a>
<ul>
<li class="chapter" data-level="0.5" data-path="关于作者.html"><a href="关于作者.html#v2-版本2024春季学期"><i class="fa fa-check"></i><b>0.5</b> V2 版本(2024春季学期)：</a></li>
<li class="chapter" data-level="0.6" data-path="关于作者.html"><a href="关于作者.html#v1-版本2023春季学期"><i class="fa fa-check"></i><b>0.6</b> V1 版本(2023春季学期)：</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="lesson-1.html"><a href="lesson-1.html"><i class="fa fa-check"></i><b>1</b> 第一讲：为什么要学习R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="lesson-1.html"><a href="lesson-1.html#r在心理科学及社会科学中的运用"><i class="fa fa-check"></i><b>1.1</b> R在心理科学及社会科学中的运用</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="lesson-1.html"><a href="lesson-1.html#id_1-data-science"><i class="fa fa-check"></i><b>1.1.1</b> 数据科学</a></li>
<li class="chapter" data-level="1.1.2" data-path="lesson-1.html"><a href="lesson-1.html#id_1-data-science-born"><i class="fa fa-check"></i><b>1.1.2</b> 数据科学的诞生——数字化时代</a></li>
<li class="chapter" data-level="1.1.3" data-path="lesson-1.html"><a href="lesson-1.html#为什么要学习r语言1-why-learn-r"><i class="fa fa-check"></i><b>1.1.3</b> 为什么要学习R语言？{1-why-learn-R}</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="lesson-1.html"><a href="lesson-1.html#r语言使用的示例展示"><i class="fa fa-check"></i><b>1.2</b> R语言使用的示例展示</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="lesson-1.html"><a href="lesson-1.html#数据清洗"><i class="fa fa-check"></i><b>1.2.1</b> 数据清洗</a></li>
<li class="chapter" data-level="1.2.2" data-path="lesson-1.html"><a href="lesson-1.html#ggplot2画图"><i class="fa fa-check"></i><b>1.2.2</b> ggplot2画图</a></li>
<li class="chapter" data-level="1.2.3" data-path="lesson-1.html"><a href="lesson-1.html#心理学数据分析与结果汇报"><i class="fa fa-check"></i><b>1.2.3</b> 心理学数据分析与结果汇报</a></li>
<li class="chapter" data-level="1.2.4" data-path="lesson-1.html"><a href="lesson-1.html#regression"><i class="fa fa-check"></i><b>1.2.4</b> Regression</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="lesson-1.html"><a href="lesson-1.html#现场运行代码"><i class="fa fa-check"></i><b>1.3</b> 现场运行代码</a></li>
<li class="chapter" data-level="1.4" data-path="lesson-1.html"><a href="lesson-1.html#课程安排"><i class="fa fa-check"></i><b>1.4</b> 课程安排</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="lesson-1.html"><a href="lesson-1.html#课程大纲"><i class="fa fa-check"></i><b>1.4.1</b> 课程大纲</a></li>
<li class="chapter" data-level="1.4.2" data-path="lesson-1.html"><a href="lesson-1.html#成绩分配"><i class="fa fa-check"></i><b>1.4.2</b> 成绩分配</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="lesson-1.html"><a href="lesson-1.html#如何学好这门课"><i class="fa fa-check"></i><b>1.5</b> 如何学好这门课</a></li>
<li class="chapter" data-level="1.6" data-path="lesson-1.html"><a href="lesson-1.html#课程总结与期望"><i class="fa fa-check"></i><b>1.6</b> 课程总结与期望</a></li>
<li class="chapter" data-level="1.7" data-path="lesson-1.html"><a href="lesson-1.html#推荐"><i class="fa fa-check"></i><b>1.7</b> 推荐</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html"><i class="fa fa-check"></i><b>2</b> 第二讲：如何开始使用R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#数据分析的出发点问题"><i class="fa fa-check"></i><b>2.1</b> 数据分析的出发点——问题</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#问题一-人类企鹅计划问卷数据"><i class="fa fa-check"></i><b>2.1.1</b> 问题一: 人类企鹅计划（问卷数据）</a></li>
<li class="chapter" data-level="2.1.2" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#问题二认知决策任务反应时和反应选择数据"><i class="fa fa-check"></i><b>2.1.2</b> 问题二：认知决策任务（反应时和反应选择数据）</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#如何安装r"><i class="fa fa-check"></i><b>2.2</b> 如何安装R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#r的下载与安装"><i class="fa fa-check"></i><b>2.2.1</b> R的下载与安装</a></li>
<li class="chapter" data-level="2.2.2" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#r-console控制台"><i class="fa fa-check"></i><b>2.2.2</b> R console（控制台）</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#如何安装rstudio"><i class="fa fa-check"></i><b>2.3</b> 如何安装Rstudio</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#rstuio的下载与安装"><i class="fa fa-check"></i><b>2.3.1</b> Rstuio的下载与安装</a></li>
<li class="chapter" data-level="2.3.2" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#测试rstudio"><i class="fa fa-check"></i><b>2.3.2</b> 测试Rstudio</a></li>
<li class="chapter" data-level="2.3.3" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#创建新项目"><i class="fa fa-check"></i><b>2.3.3</b> 创建新项目</a></li>
<li class="chapter" data-level="2.3.4" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#包packages的介绍与调用"><i class="fa fa-check"></i><b>2.3.4</b> 包(packages)的介绍与调用</a></li>
<li class="chapter" data-level="2.3.5" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#镜像的选择"><i class="fa fa-check"></i><b>2.3.5</b> 镜像的选择</a></li>
<li class="chapter" data-level="2.3.6" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#安装rtoolswindows"><i class="fa fa-check"></i><b>2.3.6</b> 安装Rtools（windows）</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="第二讲如何开始使用r.html"><a href="第二讲如何开始使用r.html#如何通过和鲸model-whale使用r"><i class="fa fa-check"></i><b>2.4</b> 如何通过和鲸（Model Whale）使用R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="第三讲git-rstudio工作流.html"><a href="第三讲git-rstudio工作流.html"><i class="fa fa-check"></i><b>3</b> 第三讲：Git &amp; RStudio工作流</a>
<ul>
<li class="chapter" data-level="3.1" data-path="第三讲git-rstudio工作流.html"><a href="第三讲git-rstudio工作流.html#files-and-folders-system"><i class="fa fa-check"></i><b>3.1</b> Files and Folders System</a></li>
<li class="chapter" data-level="3.2" data-path="第三讲git-rstudio工作流.html"><a href="第三讲git-rstudio工作流.html#git-and-git-hub"><i class="fa fa-check"></i><b>3.2</b> Git and Git Hub</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="第三讲git-rstudio工作流.html"><a href="第三讲git-rstudio工作流.html#git"><i class="fa fa-check"></i><b>3.2.1</b> Git</a></li>
<li class="chapter" data-level="3.2.2" data-path="第三讲git-rstudio工作流.html"><a href="第三讲git-rstudio工作流.html#git-hub"><i class="fa fa-check"></i><b>3.2.2</b> Git Hub</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="第三讲git-rstudio工作流.html"><a href="第三讲git-rstudio工作流.html#local-version-control"><i class="fa fa-check"></i><b>3.3</b> Local Version Control</a></li>
<li class="chapter" data-level="3.4" data-path="第三讲git-rstudio工作流.html"><a href="第三讲git-rstudio工作流.html#remote-version-control"><i class="fa fa-check"></i><b>3.4</b> Remote Version Control</a></li>
<li class="chapter" data-level="3.5" data-path="第三讲git-rstudio工作流.html"><a href="第三讲git-rstudio工作流.html#作业"><i class="fa fa-check"></i><b>3.5</b> 作业</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html"><i class="fa fa-check"></i><b>4</b> 第四讲：如何导入数据</a>
<ul>
<li class="chapter" data-level="4.1" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#正式开始前的tips"><i class="fa fa-check"></i><b>4.1</b> 正式开始前的Tips</a></li>
<li class="chapter" data-level="4.2" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#回顾与问题"><i class="fa fa-check"></i><b>4.2</b> 回顾与问题</a></li>
<li class="chapter" data-level="4.3" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#数据导入"><i class="fa fa-check"></i><b>4.3</b> 数据导入</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#数据的住址路径-以mac系统为例"><i class="fa fa-check"></i><b>4.3.1</b> 数据的“住址”——路径 (以Mac系统为例)</a></li>
<li class="chapter" data-level="4.3.2" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#绝对路径相对路径"><i class="fa fa-check"></i><b>4.3.2</b> 绝对路径/相对路径</a></li>
<li class="chapter" data-level="4.3.3" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#设定工作目录-手动挡与自动挡"><i class="fa fa-check"></i><b>4.3.3</b> 设定工作目录 – 手动挡与自动挡</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#读取数据"><i class="fa fa-check"></i><b>4.4</b> 读取数据</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#读取数据手动档"><i class="fa fa-check"></i><b>4.4.1</b> 读取数据——手动档</a></li>
<li class="chapter" data-level="4.4.2" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#读取数据自动挡gui点击操作"><i class="fa fa-check"></i><b>4.4.2</b> 读取数据——自动挡(GUI点击操作)</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#数据类型"><i class="fa fa-check"></i><b>4.5</b> 数据类型</a></li>
<li class="chapter" data-level="4.6" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#数据结构"><i class="fa fa-check"></i><b>4.6</b> 数据结构</a></li>
<li class="chapter" data-level="4.7" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#数据索引"><i class="fa fa-check"></i><b>4.7</b> 数据索引</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#数据索引中括号"><i class="fa fa-check"></i><b>4.7.1</b> 数据索引(中括号)</a></li>
<li class="chapter" data-level="4.7.2" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#数据索引-1"><i class="fa fa-check"></i><b>4.7.2</b> 数据索引($)</a></li>
<li class="chapter" data-level="4.7.3" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#数据索引逻辑值"><i class="fa fa-check"></i><b>4.7.3</b> 数据索引(逻辑值)</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#对象object"><i class="fa fa-check"></i><b>4.8</b> 对象（object）</a></li>
<li class="chapter" data-level="4.9" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#其它注意事项"><i class="fa fa-check"></i><b>4.9</b> 其它注意事项</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#变量命名"><i class="fa fa-check"></i><b>4.9.1</b> 变量命名</a></li>
<li class="chapter" data-level="4.9.2" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#缺失值na-空值null"><i class="fa fa-check"></i><b>4.9.2</b> 缺失值（NA） 空值（NULL）</a></li>
<li class="chapter" data-level="4.9.3" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#数据类型的转换"><i class="fa fa-check"></i><b>4.9.3</b> 数据类型的转换</a></li>
<li class="chapter" data-level="4.9.4" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#目录和文件管理函数"><i class="fa fa-check"></i><b>4.9.4</b> 目录和文件管理函数:</a></li>
<li class="chapter" data-level="4.9.5" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#对象与变量名"><i class="fa fa-check"></i><b>4.9.5</b> 对象与变量名</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#final-project期末作业"><i class="fa fa-check"></i><b>4.10</b> final project（期末作业）</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#requirements"><i class="fa fa-check"></i><b>4.10.1</b> Requirements</a></li>
<li class="chapter" data-level="4.10.2" data-path="第四讲如何导入数据.html"><a href="第四讲如何导入数据.html#评分标准"><i class="fa fa-check"></i><b>4.10.2</b> 评分标准</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lesson-5.html"><a href="lesson-5.html"><i class="fa fa-check"></i><b>5</b> 第五讲：R语言中的对象2: 函数</a>
<ul>
<li class="chapter" data-level="5.1" data-path="lesson-5.html"><a href="lesson-5.html#加载数据"><i class="fa fa-check"></i><b>5.1</b> 加载数据</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="lesson-5.html"><a href="lesson-5.html#数据的地址路径"><i class="fa fa-check"></i><b>5.1.1</b> 数据的“地址”——路径</a></li>
<li class="chapter" data-level="5.1.2" data-path="lesson-5.html"><a href="lesson-5.html#绝对路径与相对路径"><i class="fa fa-check"></i><b>5.1.2</b> 绝对路径与相对路径</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="lesson-5.html"><a href="lesson-5.html#读取数据-1"><i class="fa fa-check"></i><b>5.2</b> 读取数据</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="lesson-5.html"><a href="lesson-5.html#手动导入"><i class="fa fa-check"></i><b>5.2.1</b> 手动导入</a></li>
<li class="chapter" data-level="5.2.2" data-path="lesson-5.html"><a href="lesson-5.html#代码导入"><i class="fa fa-check"></i><b>5.2.2</b> 代码导入</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="lesson-5.html"><a href="lesson-5.html#赋值"><i class="fa fa-check"></i><b>5.3</b> 赋值</a></li>
<li class="chapter" data-level="5.4" data-path="lesson-5.html"><a href="lesson-5.html#数据类型-1"><i class="fa fa-check"></i><b>5.4</b> 数据类型</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="lesson-5.html"><a href="lesson-5.html#单个元素"><i class="fa fa-check"></i><b>5.4.1</b> 单个元素</a></li>
<li class="chapter" data-level="5.4.2" data-path="lesson-5.html"><a href="lesson-5.html#数值型numeric"><i class="fa fa-check"></i><b>5.4.2</b> 数值型(numeric)</a></li>
<li class="chapter" data-level="5.4.3" data-path="lesson-5.html"><a href="lesson-5.html#字符串character"><i class="fa fa-check"></i><b>5.4.3</b> 字符串(character)</a></li>
<li class="chapter" data-level="5.4.4" data-path="lesson-5.html"><a href="lesson-5.html#逻辑值logical"><i class="fa fa-check"></i><b>5.4.4</b> 逻辑值(logical)</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="lesson-5.html"><a href="lesson-5.html#数据结构-1"><i class="fa fa-check"></i><b>5.5</b> 数据结构</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="lesson-5.html"><a href="lesson-5.html#向量vector"><i class="fa fa-check"></i><b>5.5.1</b> 向量(vector)</a></li>
<li class="chapter" data-level="5.5.2" data-path="lesson-5.html"><a href="lesson-5.html#类型转换"><i class="fa fa-check"></i><b>5.5.2</b> 类型转换</a></li>
<li class="chapter" data-level="5.5.3" data-path="lesson-5.html"><a href="lesson-5.html#向量循环"><i class="fa fa-check"></i><b>5.5.3</b> 向量循环</a></li>
<li class="chapter" data-level="5.5.4" data-path="lesson-5.html"><a href="lesson-5.html#向量的索引"><i class="fa fa-check"></i><b>5.5.4</b> 向量的索引</a></li>
<li class="chapter" data-level="5.5.5" data-path="lesson-5.html"><a href="lesson-5.html#因子factor"><i class="fa fa-check"></i><b>5.5.5</b> 因子(factor)</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="lesson-5.html"><a href="lesson-5.html#数据框"><i class="fa fa-check"></i><b>5.6</b> 数据框</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="lesson-5.html"><a href="lesson-5.html#数据框的索引"><i class="fa fa-check"></i><b>5.6.1</b> 数据框的索引</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="lesson-5.html"><a href="lesson-5.html#矩阵与数组"><i class="fa fa-check"></i><b>5.7</b> 矩阵与数组</a></li>
<li class="chapter" data-level="5.8" data-path="lesson-5.html"><a href="lesson-5.html#列表"><i class="fa fa-check"></i><b>5.8</b> 列表</a></li>
<li class="chapter" data-level="5.9" data-path="lesson-5.html"><a href="lesson-5.html#函数"><i class="fa fa-check"></i><b>5.9</b> 函数</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="lesson-5.html"><a href="lesson-5.html#函数的调用"><i class="fa fa-check"></i><b>5.9.1</b> 函数的调用</a></li>
<li class="chapter" data-level="5.9.2" data-path="lesson-5.html"><a href="lesson-5.html#自定义函数"><i class="fa fa-check"></i><b>5.9.2</b> 自定义函数</a></li>
<li class="chapter" data-level="5.9.3" data-path="lesson-5.html"><a href="lesson-5.html#函数的组成"><i class="fa fa-check"></i><b>5.9.3</b> 函数的组成</a></li>
<li class="chapter" data-level="5.9.4" data-path="lesson-5.html"><a href="lesson-5.html#函数的简写"><i class="fa fa-check"></i><b>5.9.4</b> 函数的简写</a></li>
<li class="chapter" data-level="5.9.5" data-path="lesson-5.html"><a href="lesson-5.html#if-条件语句"><i class="fa fa-check"></i><b>5.9.5</b> if 条件语句</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html"><i class="fa fa-check"></i><b>6</b> 第六讲：数据预处理</a>
<ul>
<li class="chapter" data-level="6.1" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html#tidyverse"><i class="fa fa-check"></i><b>6.1</b> <strong>Tidyverse</strong></a></li>
<li class="chapter" data-level="6.2" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html#问卷数据"><i class="fa fa-check"></i><b>6.2</b> 问卷数据</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html#研究问题数据情况"><i class="fa fa-check"></i><b>6.2.1</b> 研究问题&amp;数据情况</a></li>
<li class="chapter" data-level="6.2.2" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html#操作步骤完整的管道操作"><i class="fa fa-check"></i><b>6.2.2</b> 操作步骤|完整的管道操作</a></li>
<li class="chapter" data-level="6.2.3" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html#小结"><i class="fa fa-check"></i><b>6.2.3</b> 小结</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html#反应时数据"><i class="fa fa-check"></i><b>6.3</b> 反应时数据</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html#研究问题-数据情况"><i class="fa fa-check"></i><b>6.3.1</b> 研究问题 &amp; 数据情况</a></li>
<li class="chapter" data-level="6.3.2" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html#操作步骤"><i class="fa fa-check"></i><b>6.3.2</b> 操作步骤</a></li>
<li class="chapter" data-level="6.3.3" data-path="第六讲数据预处理.html"><a href="第六讲数据预处理.html#小结-1"><i class="fa fa-check"></i><b>6.3.3</b> 小结</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html"><i class="fa fa-check"></i><b>7</b> 第七讲：描述性统计与数据可视化基础</a>
<ul>
<li class="chapter" data-level="7.1" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#回顾"><i class="fa fa-check"></i><b>7.1</b> 回顾</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#批量导入数据"><i class="fa fa-check"></i><b>7.1.1</b> 批量导入数据</a></li>
<li class="chapter" data-level="7.1.2" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#代码书写规范"><i class="fa fa-check"></i><b>7.1.2</b> 代码书写规范</a></li>
<li class="chapter" data-level="7.1.3" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#数据清洗-1"><i class="fa fa-check"></i><b>7.1.3</b> 数据清洗</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#探索性数据分析"><i class="fa fa-check"></i><b>7.2</b> 探索性数据分析</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#常用函数介绍"><i class="fa fa-check"></i><b>7.2.1</b> 常用函数介绍</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#数据可视化"><i class="fa fa-check"></i><b>7.3</b> 数据可视化</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#可视化的重要性"><i class="fa fa-check"></i><b>7.3.1</b> 可视化的重要性</a></li>
<li class="chapter" data-level="7.3.2" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#可视化的逻辑"><i class="fa fa-check"></i><b>7.3.2</b> 可视化的逻辑</a></li>
<li class="chapter" data-level="7.3.3" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#单个图片的组成"><i class="fa fa-check"></i><b>7.3.3</b> 单个图片的组成</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#常用图形"><i class="fa fa-check"></i><b>7.4</b> 常用图形</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#直方图"><i class="fa fa-check"></i><b>7.4.1</b> 直方图</a></li>
<li class="chapter" data-level="7.4.2" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#直方图密度图"><i class="fa fa-check"></i><b>7.4.2</b> 直方图+密度图</a></li>
<li class="chapter" data-level="7.4.3" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#箱线图"><i class="fa fa-check"></i><b>7.4.3</b> 箱线图</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#data-explorer"><i class="fa fa-check"></i><b>7.5</b> Data Explorer</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#data-explorer-1"><i class="fa fa-check"></i><b>7.5.1</b> Data Explorer</a></li>
<li class="chapter" data-level="7.5.2" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#使用ggpairs"><i class="fa fa-check"></i><b>7.5.2</b> 使用ggpairs</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#练习"><i class="fa fa-check"></i><b>7.6</b> 练习</a></li>
<li class="chapter" data-level="7.7" data-path="第七讲描述性统计与数据可视化基础.html"><a href="第七讲描述性统计与数据可视化基础.html#参考阅读"><i class="fa fa-check"></i><b>7.7</b> 参考阅读</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html"><i class="fa fa-check"></i><b>8</b> 第八讲：回归模型(一)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#研究问题"><i class="fa fa-check"></i><b>8.1</b> 研究问题</a></li>
<li class="chapter" data-level="8.2" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#t-test作为回归模型的特例"><i class="fa fa-check"></i><b>8.2</b> <em>t</em>-test作为回归模型的特例</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#独立样本t检验independent-t-test"><i class="fa fa-check"></i><b>8.2.1</b> 独立样本<em>t</em>检验(independent <em>t</em>-test)</a></li>
<li class="chapter" data-level="8.2.2" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#线性回归linear-regression"><i class="fa fa-check"></i><b>8.2.2</b> 线性回归(linear regression)</a></li>
<li class="chapter" data-level="8.2.3" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#单样本t检验one-sample-t-test"><i class="fa fa-check"></i><b>8.2.3</b> 单样本<em>t</em>检验(one sample <em>t</em>-test)</a></li>
<li class="chapter" data-level="8.2.4" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#配对样本t检验paired-t-test"><i class="fa fa-check"></i><b>8.2.4</b> 配对样本<em>t</em>检验(paired <em>t</em>-test)</a></li>
<li class="chapter" data-level="8.2.5" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#brucerttest"><i class="fa fa-check"></i><b>8.2.5</b> <code>bruceR::TTEST()</code></a></li>
<li class="chapter" data-level="8.2.6" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#总结"><i class="fa fa-check"></i><b>8.2.6</b> 总结</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#anova-linear-regression"><i class="fa fa-check"></i><b>8.3</b> ANOVA &amp; linear regression</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#研究问题-1"><i class="fa fa-check"></i><b>8.3.1</b> 研究问题</a></li>
<li class="chapter" data-level="8.3.2" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#代码实操-知识回顾"><i class="fa fa-check"></i><b>8.3.2</b> 代码实操 &amp; 知识回顾</a></li>
<li class="chapter" data-level="8.3.3" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#anova代码实操数据预处理"><i class="fa fa-check"></i><b>8.3.3</b> ANOVA代码实操|数据预处理</a></li>
<li class="chapter" data-level="8.3.4" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#代码实操正态性检验"><i class="fa fa-check"></i><b>8.3.4</b> 代码实操|正态性检验</a></li>
<li class="chapter" data-level="8.3.5" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#代码实操双因素被试间方差分析"><i class="fa fa-check"></i><b>8.3.5</b> 代码实操|双因素被试间方差分析</a></li>
<li class="chapter" data-level="8.3.6" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#代码实操平方和ss的计算"><i class="fa fa-check"></i><b>8.3.6</b> 代码实操|平方和(SS)的计算</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#线性回归"><i class="fa fa-check"></i><b>8.4</b> 线性回归</a></li>
<li class="chapter" data-level="8.5" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#知识延申单因素方差分析示例"><i class="fa fa-check"></i><b>8.5</b> 知识延申|单因素方差分析示例</a></li>
<li class="chapter" data-level="8.6" data-path="第八讲回归模型一.html"><a href="第八讲回归模型一.html#知识延申总结"><i class="fa fa-check"></i><b>8.6</b> 知识延申|总结</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="第九讲回归模型二分层线性模型.html"><a href="第九讲回归模型二分层线性模型.html"><i class="fa fa-check"></i><b>9</b> 第九讲：回归模型(二)：分层线性模型</a>
<ul>
<li class="chapter" data-level="9.1" data-path="第九讲回归模型二分层线性模型.html"><a href="第九讲回归模型二分层线性模型.html#回顾-1"><i class="fa fa-check"></i><b>9.1</b> 回顾</a></li>
<li class="chapter" data-level="9.2" data-path="第九讲回归模型二分层线性模型.html"><a href="第九讲回归模型二分层线性模型.html#重复测量方差分析"><i class="fa fa-check"></i><b>9.2</b> 重复测量方差分析</a></li>
<li class="chapter" data-level="9.3" data-path="第九讲回归模型二分层线性模型.html"><a href="第九讲回归模型二分层线性模型.html#分层线性模型多层线性模型hlm"><i class="fa fa-check"></i><b>9.3</b> 分层线性模型/多层线性模型(HLM):</a></li>
<li class="chapter" data-level="9.4" data-path="第九讲回归模型二分层线性模型.html"><a href="第九讲回归模型二分层线性模型.html#多层线性模型的应用"><i class="fa fa-check"></i><b>9.4</b> 多层线性模型的应用</a></li>
<li class="chapter" data-level="9.5" data-path="第九讲回归模型二分层线性模型.html"><a href="第九讲回归模型二分层线性模型.html#hlm的应用"><i class="fa fa-check"></i><b>9.5</b> HLM的应用</a></li>
<li class="chapter" data-level="9.6" data-path="第九讲回归模型二分层线性模型.html"><a href="第九讲回归模型二分层线性模型.html#思考"><i class="fa fa-check"></i><b>9.6</b> 思考</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html"><i class="fa fa-check"></i><b>10</b> 第十讲：回归模型(三)：广义线性模型</a>
<ul>
<li class="chapter" data-level="10.1" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#前章回顾和本章数据预处理"><i class="fa fa-check"></i><b>10.1</b> 前章回顾和本章数据预处理</a></li>
<li class="chapter" data-level="10.2" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#广义线性模型"><i class="fa fa-check"></i><b>10.2</b> 广义线性模型</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#回归方程和普通线性模型"><i class="fa fa-check"></i><b>10.2.1</b> 回归方程和普通线性模型</a></li>
<li class="chapter" data-level="10.2.2" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#连接函数和广义线性模型"><i class="fa fa-check"></i><b>10.2.2</b> 连接函数和广义线性模型</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#二项分布"><i class="fa fa-check"></i><b>10.3</b> 二项分布</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#伯努利实验"><i class="fa fa-check"></i><b>10.3.1</b> 伯努利实验</a></li>
<li class="chapter" data-level="10.3.2" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#glm代码实操"><i class="fa fa-check"></i><b>10.3.2</b> GLM代码实操</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#不同方法比较"><i class="fa fa-check"></i><b>10.4</b> 不同方法比较</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#不同的建模方法"><i class="fa fa-check"></i><b>10.4.1</b> 不同的建模方法</a></li>
<li class="chapter" data-level="10.4.2" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#不同的模型比较方法"><i class="fa fa-check"></i><b>10.4.2</b> 不同的模型比较方法</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="第十讲回归模型三广义线性模型.html"><a href="第十讲回归模型三广义线性模型.html#其他分布"><i class="fa fa-check"></i><b>10.5</b> 其他分布</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html"><i class="fa fa-check"></i><b>11</b> 第十一讲：回归模型(四)：中介分析</a>
<ul>
<li class="chapter" data-level="11.1" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#准备工作"><i class="fa fa-check"></i><b>11.1</b> 准备工作</a></li>
<li class="chapter" data-level="11.2" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#线性模型回顾"><i class="fa fa-check"></i><b>11.2</b> 线性模型回顾</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#线性模型及模型检验"><i class="fa fa-check"></i><b>11.2.1</b> 线性模型及模型检验</a></li>
<li class="chapter" data-level="11.2.2" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#多元线性模型的局限"><i class="fa fa-check"></i><b>11.2.2</b> 多元线性模型的局限</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#中介分析"><i class="fa fa-check"></i><b>11.3</b> 中介分析</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#对于机制的表示图"><i class="fa fa-check"></i><b>11.3.1</b> 2.1 对于“机制”的表示——“图”</a></li>
<li class="chapter" data-level="11.3.2" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#中介分析-1"><i class="fa fa-check"></i><b>11.3.2</b> 中介分析</a></li>
<li class="chapter" data-level="11.3.3" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#中介效应"><i class="fa fa-check"></i><b>11.3.3</b> 中介效应</a></li>
<li class="chapter" data-level="11.3.4" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#中介效应的检验"><i class="fa fa-check"></i><b>11.3.4</b> 中介效应的检验</a></li>
<li class="chapter" data-level="11.3.5" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#问题提出"><i class="fa fa-check"></i><b>11.3.5</b> 问题提出</a></li>
<li class="chapter" data-level="11.3.6" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#代码实现"><i class="fa fa-check"></i><b>11.3.6</b> 代码实现</a></li>
<li class="chapter" data-level="11.3.7" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#process-in-brucer"><i class="fa fa-check"></i><b>11.3.7</b> PROCESS in bruceR()</a></li>
<li class="chapter" data-level="11.3.8" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#反思"><i class="fa fa-check"></i><b>11.3.8</b> 反思</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#因果推断"><i class="fa fa-check"></i><b>11.4</b> 因果推断</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#因果推断casual-inference"><i class="fa fa-check"></i><b>11.4.1</b> 因果推断(Casual Inference)</a></li>
<li class="chapter" data-level="11.4.2" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#因果推断与概率"><i class="fa fa-check"></i><b>11.4.2</b> 因果推断与概率</a></li>
<li class="chapter" data-level="11.4.3" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#基于实验的中介"><i class="fa fa-check"></i><b>11.4.3</b> 基于实验的中介</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#参考资料推荐"><i class="fa fa-check"></i><b>11.5</b> 参考资料推荐</a></li>
<li class="chapter" data-level="11.6" data-path="第十一讲回归模型四中介分析.html"><a href="第十一讲回归模型四中介分析.html#总结-1"><i class="fa fa-check"></i><b>11.6</b> 总结</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html"><i class="fa fa-check"></i><b>12</b> 第十二讲：数据可视化进阶</a>
<ul>
<li class="chapter" data-level="12.1" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#作图的必要性和作图数据处理"><i class="fa fa-check"></i><b>12.1</b> 作图的必要性和作图数据处理</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#为什么要进行可视化及可视化的原则"><i class="fa fa-check"></i><b>12.1.1</b> 为什么要进行可视化及可视化的原则</a></li>
<li class="chapter" data-level="12.1.2" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#作图数据准备"><i class="fa fa-check"></i><b>12.1.2</b> 作图数据准备</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#基础作图"><i class="fa fa-check"></i><b>12.2</b> 基础作图</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#ggplot2基础回顾"><i class="fa fa-check"></i><b>12.2.1</b> <code>ggplot2</code>基础回顾</a></li>
<li class="chapter" data-level="12.2.2" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#主要图层"><i class="fa fa-check"></i><b>12.2.2</b> 主要图层</a></li>
<li class="chapter" data-level="12.2.3" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#可选图层"><i class="fa fa-check"></i><b>12.2.3</b> 可选图层</a></li>
<li class="chapter" data-level="12.2.4" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#同时呈现多张图片"><i class="fa fa-check"></i><b>12.2.4</b> 同时呈现多张图片</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#进阶作图"><i class="fa fa-check"></i><b>12.3</b> 进阶作图</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#整体和个体效应共存的图"><i class="fa fa-check"></i><b>12.3.1</b> 整体和个体效应共存的图</a></li>
<li class="chapter" data-level="12.3.2" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#可视化层级模型的random-effect"><i class="fa fa-check"></i><b>12.3.2</b> 可视化层级模型的random effect</a></li>
<li class="chapter" data-level="12.3.3" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#雨云图rain-cloud-plot"><i class="fa fa-check"></i><b>12.3.3</b> 雨云图（rain cloud plot）</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="第十二讲数据可视化进阶.html"><a href="第十二讲数据可视化进阶.html#高级图片处理-magick"><i class="fa fa-check"></i><b>12.4</b> 高级图片处理 – <code>magick</code></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html"><i class="fa fa-check"></i><b>13</b> 第十三讲：基于网络模型的心理学研究</a>
<ul>
<li class="chapter" data-level="13.1" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#基于潜变量的心理学研究"><i class="fa fa-check"></i><b>13.1</b> 基于潜变量的心理学研究</a></li>
<li class="chapter" data-level="13.2" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#潜变量模型在心理学的困境"><i class="fa fa-check"></i><b>13.2</b> 潜变量模型在心理学的困境</a></li>
<li class="chapter" data-level="13.3" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#基于网络的心理学视角"><i class="fa fa-check"></i><b>13.3</b> 基于网络的心理学视角</a></li>
<li class="chapter" data-level="13.4" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#如果寻找可观测特征的因果关系"><i class="fa fa-check"></i><b>13.4</b> 如果寻找可观测特征的因果关系</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#d-separation"><i class="fa fa-check"></i><b>13.4.1</b> d-separation</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#dag贝叶斯网络"><i class="fa fa-check"></i><b>13.5</b> DAG（贝叶斯网络）</a></li>
<li class="chapter" data-level="13.6" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#高斯图模型ggm"><i class="fa fa-check"></i><b>13.6</b> 高斯图模型（GGM）</a></li>
<li class="chapter" data-level="13.7" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#易辛模型ising-model"><i class="fa fa-check"></i><b>13.7</b> 易辛模型Ising model</a></li>
<li class="chapter" data-level="13.8" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#心理网络的估计"><i class="fa fa-check"></i><b>13.8</b> 心理网络的估计</a>
<ul>
<li class="chapter" data-level="13.8.1" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#高斯图模型"><i class="fa fa-check"></i><b>13.8.1</b> 高斯图模型</a></li>
<li class="chapter" data-level="13.8.2" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#多元估计"><i class="fa fa-check"></i><b>13.8.2</b> 多元估计</a></li>
<li class="chapter" data-level="13.8.3" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#一元估计"><i class="fa fa-check"></i><b>13.8.3</b> 一元估计</a></li>
<li class="chapter" data-level="13.8.4" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#代码实现-1"><i class="fa fa-check"></i><b>13.8.4</b> 代码实现</a></li>
</ul></li>
<li class="chapter" data-level="13.9" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#模型选择"><i class="fa fa-check"></i><b>13.9</b> 模型选择</a>
<ul>
<li class="chapter" data-level="13.9.1" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#模型选择的方式"><i class="fa fa-check"></i><b>13.9.1</b> 模型选择的方式</a></li>
<li class="chapter" data-level="13.9.2" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#代码实现-2"><i class="fa fa-check"></i><b>13.9.2</b> 代码实现</a></li>
<li class="chapter" data-level="13.9.3" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#代码实现-3"><i class="fa fa-check"></i><b>13.9.3</b> 代码实现</a></li>
<li class="chapter" data-level="13.9.4" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#代码实现-4"><i class="fa fa-check"></i><b>13.9.4</b> 代码实现</a></li>
<li class="chapter" data-level="13.9.5" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#总结-2"><i class="fa fa-check"></i><b>13.9.5</b> 总结</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#心理网络的挑战"><i class="fa fa-check"></i><b>13.10</b> 心理网络的挑战</a></li>
<li class="chapter" data-level="13.11" data-path="第十三讲基于网络模型的心理学研究.html"><a href="第十三讲基于网络模型的心理学研究.html#我们是否还需要潜变量模型"><i class="fa fa-check"></i><b>13.11</b> 我们是否还需要潜变量模型</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="第十四讲心理学元分析入门.html"><a href="第十四讲心理学元分析入门.html"><i class="fa fa-check"></i><b>14</b> 第十四讲：心理学元分析入门</a>
<ul>
<li class="chapter" data-level="14.1" data-path="第十四讲心理学元分析入门.html"><a href="第十四讲心理学元分析入门.html#什么是元分析"><i class="fa fa-check"></i><b>14.1</b> 什么是元分析</a></li>
<li class="chapter" data-level="14.2" data-path="第十四讲心理学元分析入门.html"><a href="第十四讲心理学元分析入门.html#元分析的实施"><i class="fa fa-check"></i><b>14.2</b> 元分析的实施</a></li>
<li class="chapter" data-level="14.3" data-path="第十四讲心理学元分析入门.html"><a href="第十四讲心理学元分析入门.html#回顾与总结"><i class="fa fa-check"></i><b>14.3</b> 回顾与总结</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="补充1如何进行基本的数据分析-相关与回归.html"><a href="补充1如何进行基本的数据分析-相关与回归.html"><i class="fa fa-check"></i><b>15</b> 补充1：如何进行基本的数据分析: 相关与回归</a>
<ul>
<li class="chapter" data-level="15.1" data-path="补充1如何进行基本的数据分析-相关与回归.html"><a href="补充1如何进行基本的数据分析-相关与回归.html#什么是相关"><i class="fa fa-check"></i><b>15.1</b> 什么是相关</a></li>
<li class="chapter" data-level="15.2" data-path="补充1如何进行基本的数据分析-相关与回归.html"><a href="补充1如何进行基本的数据分析-相关与回归.html#相关-代码实现"><i class="fa fa-check"></i><b>15.2</b> 相关-代码实现</a></li>
<li class="chapter" data-level="15.3" data-path="补充1如何进行基本的数据分析-相关与回归.html"><a href="补充1如何进行基本的数据分析-相关与回归.html#什么是回归"><i class="fa fa-check"></i><b>15.3</b> 什么是回归</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="补充2从分析到手稿.html"><a href="补充2从分析到手稿.html"><i class="fa fa-check"></i><b>16</b> 补充2：从分析到手稿</a>
<ul>
<li class="chapter" data-level="16.1" data-path="补充2从分析到手稿.html"><a href="补充2从分析到手稿.html#通过papaja撰写论文"><i class="fa fa-check"></i><b>16.1</b> <strong>通过Papaja撰写论文</strong></a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="补充2从分析到手稿.html"><a href="补充2从分析到手稿.html#part1-papaja包的安装"><i class="fa fa-check"></i><b>16.1.1</b> <strong>Part1: Papaja包的安装</strong></a></li>
<li class="chapter" data-level="16.1.2" data-path="补充2从分析到手稿.html"><a href="补充2从分析到手稿.html#part2-papaja语法格式"><i class="fa fa-check"></i><b>16.1.2</b> <strong>Part2: Papaja语法格式</strong></a></li>
<li class="chapter" data-level="16.1.3" data-path="补充2从分析到手稿.html"><a href="补充2从分析到手稿.html#part3-正文的撰写"><i class="fa fa-check"></i><b>16.1.3</b> <strong>Part3: 正文的撰写</strong></a></li>
<li class="chapter" data-level="16.1.4" data-path="补充2从分析到手稿.html"><a href="补充2从分析到手稿.html#总结-3"><i class="fa fa-check"></i><b>16.1.4</b> 总结</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="补充3效应量和元分析.html"><a href="补充3效应量和元分析.html"><i class="fa fa-check"></i><b>17</b> 补充3：效应量和元分析</a>
<ul>
<li class="chapter" data-level="17.1" data-path="补充3效应量和元分析.html"><a href="补充3效应量和元分析.html#效应量简介"><i class="fa fa-check"></i><b>17.1</b> 效应量简介</a></li>
<li class="chapter" data-level="17.2" data-path="补充3效应量和元分析.html"><a href="补充3效应量和元分析.html#算法实现"><i class="fa fa-check"></i><b>17.2</b> 算法实现</a></li>
<li class="chapter" data-level="17.3" data-path="补充3效应量和元分析.html"><a href="补充3效应量和元分析.html#小练习"><i class="fa fa-check"></i><b>17.3</b> 小练习</a></li>
<li class="chapter" data-level="17.4" data-path="补充3效应量和元分析.html"><a href="补充3效应量和元分析.html#元分析简介"><i class="fa fa-check"></i><b>17.4</b> 元分析简介</a></li>
<li class="chapter" data-level="17.5" data-path="补充3效应量和元分析.html"><a href="补充3效应量和元分析.html#元分析实现"><i class="fa fa-check"></i><b>17.5</b> 元分析实现</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R语言在心理学研究中的应用: 从原始数据到可重复的论文手稿(V2)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="第十一讲回归模型四中介分析" class="section level1 hasAnchor" number="11">
<h1><span class="header-section-number">Chapter 11</span> 第十一讲：回归模型(四)：中介分析<a href="第十一讲回归模型四中介分析.html#第十一讲回归模型四中介分析" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>本章继续探讨回归模型，除了R代码与操作外，本节课还涉及两个非常简单的知识点。</p>
<ol style="list-style-type: decimal">
<li><p><strong>为什么我们把中介模型放到回归模型里边？</strong></p></li>
<li><p><strong>我们在做中介分析的时候，
乃至在进行心理学讨论的时候，到底在做什么样的推断？
我们希望通过中介模型达到什么样的科学研究效果。</strong></p></li>
</ol>
<div id="准备工作" class="section level2 hasAnchor" number="11.1">
<h2><span class="header-section-number">11.1</span> 准备工作<a href="第十一讲回归模型四中介分析.html#准备工作" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="第十一讲回归模型四中介分析.html#cb439-1" tabindex="-1"></a><span class="co"># Packages</span></span>
<span id="cb439-2"><a href="第十一讲回归模型四中介分析.html#cb439-2" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">&#39;pacman&#39;</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb439-3"><a href="第十一讲回归模型四中介分析.html#cb439-3" tabindex="-1"></a>    <span class="fu">install.packages</span>(<span class="st">&#39;pacman&#39;</span>)</span>
<span id="cb439-4"><a href="第十一讲回归模型四中介分析.html#cb439-4" tabindex="-1"></a>}</span>
<span id="cb439-5"><a href="第十一讲回归模型四中介分析.html#cb439-5" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse,easystats,magrittr,</span>
<span id="cb439-6"><a href="第十一讲回归模型四中介分析.html#cb439-6" tabindex="-1"></a>               <span class="co"># 中介分析</span></span>
<span id="cb439-7"><a href="第十一讲回归模型四中介分析.html#cb439-7" tabindex="-1"></a>               lavaan, bruceR,tidySEM,</span>
<span id="cb439-8"><a href="第十一讲回归模型四中介分析.html#cb439-8" tabindex="-1"></a>               <span class="co"># 数据集</span></span>
<span id="cb439-9"><a href="第十一讲回归模型四中介分析.html#cb439-9" tabindex="-1"></a>               quartets,</span>
<span id="cb439-10"><a href="第十一讲回归模型四中介分析.html#cb439-10" tabindex="-1"></a>               <span class="co"># 绘图</span></span>
<span id="cb439-11"><a href="第十一讲回归模型四中介分析.html#cb439-11" tabindex="-1"></a>               patchwork,DiagrammeR,magick)</span>
<span id="cb439-12"><a href="第十一讲回归模型四中介分析.html#cb439-12" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">99999</span>,<span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb439-13"><a href="第十一讲回归模型四中介分析.html#cb439-13" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1002</span>)</span></code></pre></div>
</div>
<div id="线性模型回顾" class="section level2 hasAnchor" number="11.2">
<h2><span class="header-section-number">11.2</span> 线性模型回顾<a href="第十一讲回归模型四中介分析.html#线性模型回顾" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="线性模型及模型检验" class="section level3 hasAnchor" number="11.2.1">
<h3><span class="header-section-number">11.2.1</span> 线性模型及模型检验<a href="第十一讲回归模型四中介分析.html#线性模型及模型检验" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>我们首先来回顾一下线性回归模型：</p>
<ul>
<li>回归方程用于分析一个因变量与多个自变量之间的关系。在回归中，将一个或多个自变量视为整体，对因变量进行预测，通过普通最小二乘法（OLS）或最大似然估计法(ML)进行拟合，解释不了的成分则被视为残差；而我们的目的在于，舍弃残差（随机部分），而获得可解释的成分。</li>
</ul>
<p>除此之外，下图<strong>Anscombe’s
Quartet</strong>中展示了经典的、检查原始数据的情境。尽管四种数值摘要非常相似，但每组数据的图形分布却截然不同。这四组数据分别展示了不同的数据特征和问题。
而我们研究中的线性模型，适合的是有内在线性关系的数据。当我们的数据间不存在线性关系的时候，就会导致一些问题。</p>
<p><strong>[anscombe_quartet]</strong></p>
<p><img src="_main_files/figure-html/unnamed-chunk-241-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>上面提到的这些问题，有的时候可以通过一些模型诊断的方法来将其诊断出来，
比方说下图<code>performance::check_model</code>的回归模型评估结果中，我们可以看到，当有一个极大的偏移值的时候，我们的估计会产生误差。</p>
<p><strong>[performance]</strong></p>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb440-1"><a href="第十一讲回归模型四中介分析.html#cb440-1" tabindex="-1"></a><span class="fu">lm</span>(y <span class="sc">~</span> x,<span class="at">data =</span> anscombe_quartet <span class="sc">%&gt;%</span> </span>
<span id="cb440-2"><a href="第十一讲回归模型四中介分析.html#cb440-2" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">filter</span>(dataset <span class="sc">==</span> <span class="st">&#39;(3) Outlier&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb440-3"><a href="第十一讲回归模型四中介分析.html#cb440-3" tabindex="-1"></a>  performance<span class="sc">::</span><span class="fu">check_model</span>(<span class="at">check =</span> <span class="fu">c</span>(<span class="st">&#39;linearity&#39;</span>,<span class="st">&#39;outliers&#39;</span>)) <span class="co">#&lt;&lt;</span></span></code></pre></div>
<p><img src="_main_files/figure-html/Outlier-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="多元线性模型的局限" class="section level3 hasAnchor" number="11.2.2">
<h3><span class="header-section-number">11.2.2</span> 多元线性模型的局限<a href="第十一讲回归模型四中介分析.html#多元线性模型的局限" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>当然，上述这些问题都是技术上的问题， 可以通过其他更稳健的方法来解决。
但我们探讨的关键是回归模型，它能告诉我们的科学问题到底是什么？
如果我们回到宏观的科学的层面，我们为什么要做研究？我们可以说科学的目的就是对科学问题进行“描述、解释、预测、控制”。</p>
<p>我们的模型可以分为：“描述模型”、“推断模型”、“预测模型”，而回归兼具这三种功能。</p>
<ul>
<li><strong>回归模型作为描述模型。</strong></li>
</ul>
<p>假如说我们有两个变量，存在两组数据，我们不关心它们的内在机制，
而是想把这两个变量之间的关系描述出来。
那么这个时候回归模型，就可以提供帮助。
比如可以使用LOESS(即<code>geom_smooth()</code>中<code>method</code>默认的参数)对数据进行描述；
当然也可以用相关，但是我们知道GLM肯定是更强大的，包括我们可以用层级模型，就是广义的线性模型，都是回归模型，</p>
<ul>
<li><strong>回归模型作为推断模型。</strong></li>
</ul>
<p>描述模型中，只是把关系刻画出来，不关心它是否显著，但是推断模型则不一样，我们希望去知道它有没有达到某一个特定的阈值，比方说在心理学中，我们就特别希望知道是不是达到显著的效果，p是不是小于0.05
对整个模型来说，自变量的这个线性组合形成的这个预测项x，能不能预测y？
整个模型有没有达到显著，它的这个r方有多大？ 这是一种推断。
另外一种推断就是我们关注各个变量的(偏)回归系数，根据其显著性可以进行统计推断(如果是离散变量的时候即等价与ANOVA)。</p>
<ul>
<li><strong>回归模型作为预测模型。</strong></li>
</ul>
<p>回归模型进行预测时，则不关注各个变量之间的复杂关系，因而将自变量当做整体，关注其是否能够预测因变量(拟合指标)</p>
<div id="局限" class="section level4 hasAnchor" number="11.2.2.1">
<h4><span class="header-section-number">11.2.2.1</span> 局限<a href="第十一讲回归模型四中介分析.html#局限" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>我们对回归功能的讨论中没有提及到因果。这个推断里面我们是说推断它显不显著，
那我们根据个回归模型能不能做因果推断？</p>
<p>至少单一靠数据本身是不行的，有可能我们在加了很多前置的条件（assumption）之后是可以的。
这里以医学研究中的随机对照实验（Randomized Controlled Trial，RCT）为例，
在医学领域中，像大的药厂，在进行药物试验，确定某一个新药是不是有效的时候，会做很多个阶段的实验，在最后一个阶段的实验就是在大规模的人群上面测试。</p>
<p>在新冠期间，我们听过了很多这种报道，比方说mRNA疫苗怎样检验有效性，
其实就是在各个国家的大规模的人群上进行随机控制组的双盲实验，比较疫苗与安慰剂两种条件下的效果。</p>
<p>那么，这种情况之下，我们能做出因果推断了吗？能说实验组条件下效果比控制组好，就是因为疫苗的原因吗？
可以，因为我们基本上可以理解为疫苗是导致结果产生差异的唯一原因。
我们思考一下此时该研究用了什么统计方法？</p>
<p>比方说因变量比较的是感染率，这种差异性检验在某种程度上是t检验的变式，
那么为什么这种情况下能够做因果推断呢？</p>
<p>实际上，使他们做出因果推断的并不是统计数据本身，而是因为他们所做的实验假设。
他们假设，在做大规模的、双盲的、随机控制组实验的时候，其他所有可能会影响结果的变量，都在随机的过程中相互抵消了。也就说两组条件差异来自不同的实验条件，以及每个被试具备的随机差异，当我们的样本量足够大的时候，随机的样本，随机的量足够的复杂，最后两组中我们可以“认为”，除控制条件外，其他条件是等同的，因此，最后能够观察到的差异就是个两组之间的干预带来的差异。那么在随机控制组双盲的实验当中，它就是人为的去，在一种很苛刻的条件下去满足这种统计的假设。</p>
<p>但即便如此， 那么医学界研究者也会不断的去监控这个证据，做后续的Meta
Analysis，去看各个RCT研究中是否有差异。</p>
<p>举例是想证明，并不是回归模型不能做因果推断，而是我们在做因果推断的时候，要加一些很强的统计的假设，在这个基础上、在满足了假设的前提下，我们才能够、才可能做出因果推断。而且即便我们做了一个很严谨的实验，
我们在当时，某种程度上可以做出因果推断，
但是这也并不代表推断是静态的，做了一次就一定就是因果关系，后来也可能有一些实验去把这种推断推翻，</p>
<p>这里可以稍微提简单的提一嘴，我们心理学的研究者做预测的时候，我们并没有机器学习领域的人做预测做那么严谨。机器学习领域，他们用一些方法（例如交叉验证）来避免预测率过高，
我们心理学至少在传统做法上不太重视预测，提预测的时候，其实可能有的时候只是一个简单的回归。</p>
<p>那么，当我们研究横断数据的时候，回归模型的使用，依赖很多其他的设定，
比方说“变量之间是否独立”等， 以及其他做出因果推断的前提条件。</p>
<blockquote>
<p>如果所有自变量都相互独立，使用多元回归是合理的；
但在现实中，变量之间存在相互作用更为普遍，而多元回归值仅关注到自变量对因变量的独立作用(偏回归系数)，很难描述变量间复杂的关系。变量越多，这个问题越明显。</p>
<p>Ref: <a href="https://www.tmwr.org/software-modeling" class="uri">https://www.tmwr.org/software-modeling</a></p>
</blockquote>
</div>
</div>
</div>
<div id="中介分析" class="section level2 hasAnchor" number="11.3">
<h2><span class="header-section-number">11.3</span> 中介分析<a href="第十一讲回归模型四中介分析.html#中介分析" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>在心理学领域，中介分析的使用很常见，我们上文在讨论中介分析的时候，有一个比较强的直觉，想要去做出因果推断。例如我们想要去推断一个特定的机制，通过问卷测量了三个变量，假设是x、y和m，中介分析中我们认为x影响了y是一个因果关系，且x是通过m来影响的y
其中有一个很强的因果关系，那么这个关系它到底成不成立呢？</p>
<p>那我们接下来从统计层面，来探讨这种因果是否成立。</p>
<div id="对于机制的表示图" class="section level3 hasAnchor" number="11.3.1">
<h3><span class="header-section-number">11.3.1</span> 2.1 对于“机制”的表示——“图”<a href="第十一讲回归模型四中介分析.html#对于机制的表示图" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>我们在做路径分析的时候，我们一般使用“图”来表征理论因果关系</p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-4d2209f30d38616fe576" style="width:672px;height:100px;"></div>
<script type="application/json" data-for="htmlwidget-4d2209f30d38616fe576">{"x":{"diagram":"digraph {\n  graph [layout = dot,rankdir = LR]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n\n  X1 ->X2\n  X2 -> X3\n  X1 -> X3\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>图包括两部分：节点和边。节点表示具体变量，而箭头表示变量之间的关系；</p></li>
<li><p>对节点来说，在SEM中，观测变量用矩形表示，潜变量用椭圆表示。</p></li>
<li><p>边表示变量间关系，**单箭头直线表示直接因果关系，从原因指向结果；双曲线箭头则表示相关</p></li>
</ul>
<p>我们在做假设模型时，一般都不会假设出现下图这种情况，可以看到，
从x1到x2，x2到x3，x3又回来到x1了，形成了一个闭环。</p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-d5e21c473ab998a3e3dc" style="width:672px;height:100px;"></div>
<script type="application/json" data-for="htmlwidget-d5e21c473ab998a3e3dc">{"x":{"diagram":"digraph {\n  graph [layout = dot,rankdir = LR]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n\n  X1 ->X2\n  X2 -> X3\n  X3 -> X1\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>我们一般来说更希望的是不存在循环的关系，如下图，在统计和机械学习领域，称其为<strong>有向无环图(Directed
Acyclic Graph, DAGs)</strong></p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-fa958b434e14727c3585" style="width:672px;height:100px;"></div>
<script type="application/json" data-for="htmlwidget-fa958b434e14727c3585">{"x":{"diagram":"digraph {\n  graph [layout = dot,rankdir = LR]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n\n  X1 ->X2\n  X2 -> X3\n  X1 -> X3\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="中介分析-1" class="section level3 hasAnchor" number="11.3.2">
<h3><span class="header-section-number">11.3.2</span> 中介分析<a href="第十一讲回归模型四中介分析.html#中介分析-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><strong>中介分析：</strong></li>
</ul>
<p>对于中介过程的量化分析包括路径分析和SEM（同时包含测量模型和结构模型），后面的介绍基于路径分析。</p>
<p>关注变量间因果关系，自变量如何影响因变量（即机制），如X通过M作用于Y，M为中介变量。中介的存在意味着时间上发生的先后顺序：
<span class="math inline">\(X \rightarrow M \rightarrow Y\)</span> 。</p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-19bbb0a438b109164c0d" style="width:672px;height:100px;"></div>
<script type="application/json" data-for="htmlwidget-19bbb0a438b109164c0d">{"x":{"diagram":"digraph {\n  graph [layout = dot,rankdir = LR]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n\n  X -> M\n  X -> Y\n  M -> Y\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>这里会有一个问题，我们为什么会关心中介机制呢，或者是中介变量呢？
中介分析，它对我们现实生活到底有什么真实意义？</p>
<p>有一种可能的例子，比方说原生家庭是自变量X，心理健康因变量是Y，
在其中心理健康Y是我们想干预的因变量，而原生家庭X是无法或者很难改变的自变量，
此时我们想要进行干预，如果能够找到x到Y的一些心理、行为倾向、特质上的中介机制，通过干预中介变量M，也能够达到我们想要的效果，最终实现科学研究的现实意义。</p>
<p>所以这是为什么我们要去研究因果关系，尤其是中介的关系，
我们其实希望找到一些方法，最终能够帮助我们这个世界变得更好的一些。</p>
<p>我们在进行中介分析时，通常就会看以下这几个公式， 一个是总方程的公式，
比方说 <span class="math inline">\(M = i_1+ aX\)</span>,加上一个误差项
<span class="math inline">\(e_1\)</span>。这里就是一个简单的线性回归模型。</p>
<p><strong>总方程:</strong></p>
<p><span class="math display">\[Y = i_1 + cX + e_1\]</span></p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-ae895d4c926a77c8bc52" style="width:672px;height:200px;"></div>
<script type="application/json" data-for="htmlwidget-ae895d4c926a77c8bc52">{"x":{"diagram":"digraph {\n  graph [layout = dot,rankdir = LR]\n  \n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.4,weight = 0.3,fontsize = 10]\n  e1[style = NULL,fillcolor = NULL,penwidth = 0,height = 0.02,width = 0.02]\n  \n  # 定义边\n  edge [color = black, arrowhead = vee]\n  {rank = same; e1; Y}\n  X -> Y [label = \"c\"]\n  e1 -> Y\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p><strong>分解:</strong></p>
<p><span class="math display">\[M = i_2 + aX + e_2\]</span></p>
<p><span class="math display">\[Y = i_3 + c&#39;X + bM + e_3\]</span></p>
<p>当我们加入中介时，我们就假定有这么一个中介变量m，m是可以通过x来预测的：<span class="math inline">\(M = i_2 + aX + e_2\)</span>，且又能够再去预测y：<span class="math inline">\(Y = i_3 + c&#39;X + bM + e_3\)</span>，
所以它最后形成这样的形式：</p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-8b1394c82fa4fab14a12" style="width:672px;height:200px;"></div>
<script type="application/json" data-for="htmlwidget-8b1394c82fa4fab14a12">{"x":{"diagram":"digraph {\n  graph [layout = dot]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n  e2[style = NULL,fillcolor = NULL,penwidth = 0,\n    height = 0.02,width = 0.02]\n  e3[style = NULL,fillcolor = NULL,penwidth = 0,\n    height = 0.02,width = 0.02]\n    \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n  # {rank = min; X; Med}\n  {rank = same; e2 Med}\n  {rank = same; X Y}\n\n  X -> Med [label = \"a\", len = 1]  \n  Med -> Y [label = \"b\", len = 1]  \n  X -> Y [label = \"c′\", len = 15]  \n  e3 -> Y [len = 1]  \n  e2 -> Med [len = 1] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="中介效应" class="section level3 hasAnchor" number="11.3.3">
<h3><span class="header-section-number">11.3.3</span> 中介效应<a href="第十一讲回归模型四中介分析.html#中介效应" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="grViz html-widget html-fill-item" id="htmlwidget-a207883d897c3d18f593" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-a207883d897c3d18f593">{"x":{"diagram":"digraph {\n  graph [layout = dot]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n  e2[style = NULL,fillcolor = NULL,penwidth = 0,\n    height = 0.02,width = 0.02]\n  e3[style = NULL,fillcolor = NULL,penwidth = 0,\n    height = 0.02,width = 0.02]\n    \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n  # {rank = min; X; Med}\n  {rank = same; e2 Med}\n  {rank = same; X Y}\n\n  X -> Med [label = \"a\", len = 1]  \n  Med -> Y [label = \"b\", len = 1]  \n  X -> Y [label = \"c′\", len = 15]  \n  e3 -> Y [len = 1]  \n  e2 -> Med [len = 1] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p><span class="math display">\[ Y = i_1 + cX + e_1\]</span></p>
<p><span class="math display">\[ M = i_2 + aX + e_2\]</span></p>
<p><span class="math display">\[Y = i_3 + c&#39;X + bM + e_3\]</span></p>
<p>如果将第二个方程代入第三个方程：</p>
<p><span class="math display">\[ Y = i_3 + c&#39;X + b(i_2 + aX + e_2) + e_3\]</span>
<span class="math display">\[= (b*i_2 + i_3) + c&#39;X + abX + (b*e_2 + e_3)\]</span>
<span class="math display">\[= i_4 + c&#39;X + abX + e_5\]</span></p>
<p>我们再从中介模型来分析，可以发现，将X对Y的效应分解成了中介效应ab和直接效应c’</p>
<ul>
<li><p>在中介模型路径图中， <span class="math inline">\(X \rightarrow Y\)</span>路径上的回归系数
<span class="math inline">\(c&#39;\)</span>为直接效应</p></li>
<li><p>中介效应：ab，或 <span class="math inline">\(c - c&#39;\)</span>。在M和Y均为连续变量的时候，有：
<span class="math inline">\(ab = c - c&#39;\)</span></p></li>
<li><p>中介效应分为两类：完全中介（即c’ = 0）和部分中介(c’ ≠ 0)</p></li>
</ul>
<p>我们观测到的中介效应本质是回归系数的乘积，而回归系数意味着变量间存在因果关系么？</p>
<ul>
<li>以Penguin_data中CBT与DEQ的关系举例，对于总效应c来说：</li>
</ul>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="第十一讲回归模型四中介分析.html#cb441-1" tabindex="-1"></a>tot <span class="ot">=</span> <span class="fu">lm</span>(CBT <span class="sc">~</span> DEQ,<span class="at">data =</span> pg_raw <span class="sc">%&gt;%</span> </span>
<span id="cb441-2"><a href="第十一讲回归模型四中介分析.html#cb441-2" tabindex="-1"></a>           dplyr<span class="sc">::</span><span class="fu">filter</span>(romantic <span class="sc">==</span> <span class="dv">1</span>))</span>
<span id="cb441-3"><a href="第十一讲回归模型四中介分析.html#cb441-3" tabindex="-1"></a><span class="co"># 计算相关</span></span>
<span id="cb441-4"><a href="第十一讲回归模型四中介分析.html#cb441-4" tabindex="-1"></a>r <span class="ot">=</span> pg_raw <span class="sc">%&gt;%</span> </span>
<span id="cb441-5"><a href="第十一讲回归模型四中介分析.html#cb441-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(romantic <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb441-6"><a href="第十一讲回归模型四中介分析.html#cb441-6" tabindex="-1"></a>  correlation<span class="sc">::</span><span class="fu">correlation</span>(<span class="at">select =</span> <span class="fu">cc</span>(<span class="st">&quot;DEQ,CBT&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb441-7"><a href="第十一讲回归模型四中介分析.html#cb441-7" tabindex="-1"></a>  .<span class="sc">$</span>r</span>
<span id="cb441-8"><a href="第十一讲回归模型四中介分析.html#cb441-8" tabindex="-1"></a></span>
<span id="cb441-9"><a href="第十一讲回归模型四中介分析.html#cb441-9" tabindex="-1"></a><span class="co"># 比较回归系数与相关</span></span>
<span id="cb441-10"><a href="第十一讲回归模型四中介分析.html#cb441-10" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="st">&#39;相关系数&#39;</span> <span class="ot">=</span> </span>
<span id="cb441-11"><a href="第十一讲回归模型四中介分析.html#cb441-11" tabindex="-1"></a>             (<span class="fu">sd</span>(pg_raw<span class="sc">$</span>CBT,<span class="at">na.rm =</span> T)<span class="sc">/</span><span class="fu">sd</span>(pg_raw<span class="sc">$</span>DEQ,<span class="at">na.rm =</span> T))<span class="sc">*</span>r,</span>
<span id="cb441-12"><a href="第十一讲回归模型四中介分析.html#cb441-12" tabindex="-1"></a>           <span class="st">&#39;回归系数&#39;</span> <span class="ot">=</span> tot<span class="sc">$</span>coefficients[<span class="dv">2</span>]) <span class="sc">%&gt;%</span> <span class="fu">print</span>()</span></code></pre></div>
<pre><code>##      相关系数  回归系数
## DEQ -0.000663 -0.000673</code></pre>
<p>可以发现，回归系数本质上只是(偏)相关(
<span class="math inline">\(\beta = \frac{S_y}{S_x}·r\)</span>)，而中介效应ab也只是两个回归方程的回归系数的乘积，或者说是
<span class="math inline">\(r_{XM}\)</span> 与
<span class="math inline">\(r_{MY}\)</span>的乘积；如果我们认为相关、偏相关不等于因果，那么中介就等于因果吗？此时我们基本可以下结论，仅靠数据上的中介分析是无法推断因果的。</p>
<p>这一结论意味着我们要做因果推断的话，不能仅依靠数据，数值本身不会直接告诉你它是什么意思，数据的意义的解读还是要依靠专家，以及之前的研究设定。
比如前面举例的RCT，它的统计思路某种程度上就是一个最简单t-
test，如果我们用回归来分析RCT，最终可能也是得到一个回归系数、统计上的一个数值。
但是是因为我们在RCT中做了严谨的、双盲的、随机控制组的实验，而且一般来说有非常大的被试量，在这种情况下，我们能够做出因果推断。</p>
<p>那么在中介分析中，是不是一定不能做因果推论呢？
当然不一定。但如果我们希望利用中介分析也能够做出因果推论的话，
需要思考是不是也要做类似RCT的工作？</p>
<p>这也是这节课想要讲到的一个非常重要的知识点，
如果我们的实验研究设计，内在的没有去设定一个严格的条件，来保证统计上观测到的这些关系是因果关系，那么我们的中介效应本质上就是回归系数的乘积、偏相关，我们观测到的也只是相关关系。
但如果想要去得到中介的因果效应，也并非不可能，
只是需要在研究设计上花心思去考虑。
当然我们又是一门r语言的课程，以下来讲一讲如何在R语言中实现中介分析。</p>
</div>
<div id="中介效应的检验" class="section level3 hasAnchor" number="11.3.4">
<h3><span class="header-section-number">11.3.4</span> 中介效应的检验<a href="第十一讲回归模型四中介分析.html#中介效应的检验" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>中介效应的检验方法很多，如四步法、Sobel检验等，但最常用的是通过Bootstrap
来计算中介效应的置信区间(且两个随机变量的乘积很多情境中并非服从正态分布)，如果其置信区间不包含0则认为该参数估计值显著：</p>
<ul>
<li><p>Bootstrap对原始样本进行有放回的重复抽样（允许重复抽取相同数据），抽样次数通常等于数据本身大小N相同，假设重复抽取1000次；</p></li>
<li><p>然后对每次抽取的样本计算中介效应ab，就得到了1000个ab的值，据此估计中介效应ab的分布情况，进而取2.5%和97.5%个百分位点计算95%置信区间。</p></li>
</ul>
<p>除了bootstrap以外，基于贝叶斯的路径分析、SEM也开始慢慢流行
本质上也有一个原因:频率学的很多方法，在它的模型变复杂之后，其求解也变得很困难。
也就是说频率学方法中，如果数据很少，但模型很复杂，此时求到一个比较准确的这个参数值的话是非常困难的，有的时候甚至是不太可能的，
所以呢，大家就用这种其他的方法（例如Markov Chain Monte
Carlo，MCMC）去近似这个参数值 。</p>
</div>
<div id="问题提出" class="section level3 hasAnchor" number="11.3.5">
<h3><span class="header-section-number">11.3.5</span> 问题提出<a href="第十一讲回归模型四中介分析.html#问题提出" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>在第六章中，我们使用Penguins数据研究了社交复杂度(CSI)是否影响核心体温(CBT)，特别是在离赤道比较远的（低温）地区(DEQ)。</p>
<p>这里，我们复现论文中第一个中介模型：社会复杂度(CSI)可以保护处于恋爱中的个体的体温(CBT)免受寒冷气候(DEQ)的影响。具体来说：</p>
<ul>
<li><p>DEQ为自变量，CBT为因变量，CSI为中介变量。</p></li>
<li><p>赤道距离(DEQ)应当正向预测社会复杂度(CSI)，而社会复杂度应当正向预测体温(CBT)，但赤道距离(DEQ)应当负向预测体温(CBT)(即遮掩效应，如下图)</p></li>
</ul>
<div class="grViz html-widget html-fill-item" id="htmlwidget-9ee190c93c58ae21210b" style="width:672px;height:300px;"></div>
<script type="application/json" data-for="htmlwidget-9ee190c93c58ae21210b">{"x":{"diagram":"digraph {\n  graph [layout = dot,rankdir = LR]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n\n  DEQ -> CSI[label = \"+\"]\n  DEQ -> CBT[label = \"-\"]\n  CSI -> CBT[label = \"+\"]\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>这里我们不再去做探索分析，进行数据的预处理之后，直接计算各个变量的值，再去做中介分析。如果要从原始数据里面去计算社交网络的复杂度CSI，可以去仔细的去看一看这里面的代码，会涉及到比较多的反复的重新编码。</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="第十一讲回归模型四中介分析.html#cb443-1" tabindex="-1"></a><span class="co"># 数据导入</span></span>
<span id="cb443-2"><a href="第十一讲回归模型四中介分析.html#cb443-2" tabindex="-1"></a>pg_raw <span class="ot">=</span> bruceR<span class="sc">::</span><span class="fu">import</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&#39;data&#39;</span>,<span class="st">&#39;penguin&#39;</span>,<span class="st">&#39;penguin_rawdata_full.csv&#39;</span>))</span></code></pre></div>
<p>数据预处理这里,可能会有很多这种变量名的选择，还有一些重新编码，
大家可以看到这个地方用的code是我们2018年左右写的代码，
当时是用的<code>apply</code>，自己写了一个function，来进行重新编码，</p>
<p>但实际上，如果大家想要去锻炼一下数据预处理能力，可以尝试能不能用tidyverse改一改这个地方，可能会更简洁。这里不再仔细讲解。</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb444-1"><a href="第十一讲回归模型四中介分析.html#cb444-1" tabindex="-1"></a><span class="co"># 计算CSI</span></span>
<span id="cb444-2"><a href="第十一讲回归模型四中介分析.html#cb444-2" tabindex="-1"></a><span class="do">### get the column names:</span></span>
<span id="cb444-3"><a href="第十一讲回归模型四中介分析.html#cb444-3" tabindex="-1"></a>snDivNames  <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;SNI3&quot;</span>, <span class="st">&quot;SNI5&quot;</span>, <span class="st">&quot;SNI7&quot;</span>, <span class="st">&quot;SNI9&quot;</span>, <span class="st">&quot;SNI11&quot;</span>, <span class="st">&quot;SNI13&quot;</span>,  <span class="st">&quot;SNI15&quot;</span>, <span class="st">&quot;SNI17&quot;</span>,<span class="st">&quot;SNI18&quot;</span>,<span class="st">&quot;SNI19&quot;</span>,<span class="st">&quot;SNI21&quot;</span>)</span>
<span id="cb444-4"><a href="第十一讲回归模型四中介分析.html#cb444-4" tabindex="-1"></a>extrDivName <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;SNI28&quot;</span>,<span class="st">&quot;SNI29&quot;</span>,<span class="st">&quot;SNI30&quot;</span>,<span class="st">&quot;SNI31&quot;</span>,<span class="st">&quot;SNI32&quot;</span>)    <span class="co"># colnames of the extra groups</span></span>
<span id="cb444-5"><a href="第十一讲回归模型四中介分析.html#cb444-5" tabindex="-1"></a></span>
<span id="cb444-6"><a href="第十一讲回归模型四中介分析.html#cb444-6" tabindex="-1"></a><span class="do">### create a empty dataframe for social network diversity</span></span>
<span id="cb444-7"><a href="第十一讲回归模型四中介分析.html#cb444-7" tabindex="-1"></a>snDivData <span class="ot">&lt;-</span> <span class="fu">setNames</span>(<span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="fu">length</span>(snDivNames), <span class="at">nrow =</span> <span class="fu">nrow</span>(pg_raw))), snDivNames)</span>
<span id="cb444-8"><a href="第十一讲回归模型四中介分析.html#cb444-8" tabindex="-1"></a></span>
<span id="cb444-9"><a href="第十一讲回归模型四中介分析.html#cb444-9" tabindex="-1"></a><span class="do">### recode Q10 (spouse): 1-&gt; 1; else -&gt;0</span></span>
<span id="cb444-10"><a href="第十一讲回归模型四中介分析.html#cb444-10" tabindex="-1"></a>snDivData<span class="sc">$</span>SNI1_r <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(pg_raw<span class="sc">$</span>SNI1,<span class="st">&quot;1= 1; else = 0&quot;</span>)</span>
<span id="cb444-11"><a href="第十一讲回归模型四中介分析.html#cb444-11" tabindex="-1"></a></span>
<span id="cb444-12"><a href="第十一讲回归模型四中介分析.html#cb444-12" tabindex="-1"></a><span class="do">####re-code Q12 ~ Q30: NA -&gt; 0; 0 -&gt; 0; 1~10 -&gt; 1</span></span>
<span id="cb444-13"><a href="第十一讲回归模型四中介分析.html#cb444-13" tabindex="-1"></a>snDivData[,snDivNames] <span class="ot">&lt;-</span> <span class="fu">apply</span>(pg_raw[,snDivNames],<span class="dv">2</span>,<span class="cf">function</span>(x) {x <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(x,<span class="st">&quot;0 = 0; NA = 0; 1:10 = 1;&quot;</span>); x}) </span>
<span id="cb444-14"><a href="第十一讲回归模型四中介分析.html#cb444-14" tabindex="-1"></a></span>
<span id="cb444-15"><a href="第十一讲回归模型四中介分析.html#cb444-15" tabindex="-1"></a><span class="do">### add suffix to the colnames</span></span>
<span id="cb444-16"><a href="第十一讲回归模型四中介分析.html#cb444-16" tabindex="-1"></a><span class="fu">colnames</span>(snDivData[,snDivNames]) <span class="ot">&lt;-</span> <span class="fu">paste</span>(snDivNames,<span class="st">&quot;div&quot;</span>,  <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)    </span>
<span id="cb444-17"><a href="第十一讲回归模型四中介分析.html#cb444-17" tabindex="-1"></a></span>
<span id="cb444-18"><a href="第十一讲回归模型四中介分析.html#cb444-18" tabindex="-1"></a><span class="do">### recode the social network at work by combining SNI17, SNI18</span></span>
<span id="cb444-19"><a href="第十一讲回归模型四中介分析.html#cb444-19" tabindex="-1"></a>snDivData<span class="sc">$</span>SNIwork   <span class="ot">&lt;-</span> snDivData<span class="sc">$</span>SNI17 <span class="sc">+</span> snDivData<span class="sc">$</span>SNI18</span>
<span id="cb444-20"><a href="第十一讲回归模型四中介分析.html#cb444-20" tabindex="-1"></a>snDivData<span class="sc">$</span>SNIwork_r <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(snDivData<span class="sc">$</span>SNIwork,<span class="st">&quot;0 = 0;1:10 = 1&quot;</span>)</span>
<span id="cb444-21"><a href="第十一讲回归模型四中介分析.html#cb444-21" tabindex="-1"></a></span>
<span id="cb444-22"><a href="第十一讲回归模型四中介分析.html#cb444-22" tabindex="-1"></a><span class="do">### re-code extra groups, 0/NA --&gt; 0; more than 0 --&gt; 1</span></span>
<span id="cb444-23"><a href="第十一讲回归模型四中介分析.html#cb444-23" tabindex="-1"></a>extrDivData <span class="ot">&lt;-</span> pg_raw[,extrDivName]          <span class="co"># Get extra data</span></span>
<span id="cb444-24"><a href="第十一讲回归模型四中介分析.html#cb444-24" tabindex="-1"></a>extrDivData<span class="sc">$</span>sum <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(extrDivData)    <span class="co"># sum the other groups</span></span>
<span id="cb444-25"><a href="第十一讲回归模型四中介分析.html#cb444-25" tabindex="-1"></a>snDivData<span class="sc">$</span>extrDiv_r <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(extrDivData<span class="sc">$</span>sum,<span class="st">&quot;0 = 0; NA = 0; else = 1&quot;</span>)  <span class="co"># recode</span></span>
<span id="cb444-26"><a href="第十一讲回归模型四中介分析.html#cb444-26" tabindex="-1"></a></span>
<span id="cb444-27"><a href="第十一讲回归模型四中介分析.html#cb444-27" tabindex="-1"></a><span class="do">### Get the column names for social diversity </span></span>
<span id="cb444-28"><a href="第十一讲回归模型四中介分析.html#cb444-28" tabindex="-1"></a>snDivNames_r <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;SNI1_r&quot;</span>,<span class="st">&quot;SNI3&quot;</span>,<span class="st">&quot;SNI5&quot;</span>,<span class="st">&quot;SNI7&quot;</span>,<span class="st">&quot;SNI9&quot;</span>,<span class="st">&quot;SNI11&quot;</span>,<span class="st">&quot;SNI13&quot;</span>,<span class="st">&quot;SNI15&quot;</span>,<span class="st">&quot;SNIwork_r&quot;</span>,</span>
<span id="cb444-29"><a href="第十一讲回归模型四中介分析.html#cb444-29" tabindex="-1"></a>                  <span class="st">&quot;SNI19&quot;</span>,<span class="st">&quot;SNI21&quot;</span>,<span class="st">&quot;extrDiv_r&quot;</span>)</span>
<span id="cb444-30"><a href="第十一讲回归模型四中介分析.html#cb444-30" tabindex="-1"></a></span>
<span id="cb444-31"><a href="第十一讲回归模型四中介分析.html#cb444-31" tabindex="-1"></a><span class="do">### Get the social diveristy score</span></span>
<span id="cb444-32"><a href="第十一讲回归模型四中介分析.html#cb444-32" tabindex="-1"></a>snDivData<span class="sc">$</span>SNdiversity <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(snDivData[,snDivNames_r])</span>
<span id="cb444-33"><a href="第十一讲回归模型四中介分析.html#cb444-33" tabindex="-1"></a>pg_raw<span class="sc">$</span>socialdiversity <span class="ot">&lt;-</span> snDivData<span class="sc">$</span>SNdiversity</span></code></pre></div>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb445-1"><a href="第十一讲回归模型四中介分析.html#cb445-1" tabindex="-1"></a><span class="do">## 更改列名</span></span>
<span id="cb445-2"><a href="第十一讲回归模型四中介分析.html#cb445-2" tabindex="-1"></a>pg_raw <span class="sc">%&lt;&gt;%</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">CSI =</span> socialdiversity)</span>
<span id="cb445-3"><a href="第十一讲回归模型四中介分析.html#cb445-3" tabindex="-1"></a><span class="do">###  计算CBT（mean）</span></span>
<span id="cb445-4"><a href="第十一讲回归模型四中介分析.html#cb445-4" tabindex="-1"></a><span class="co"># 筛选大于34.99 的被试</span></span>
<span id="cb445-5"><a href="第十一讲回归模型四中介分析.html#cb445-5" tabindex="-1"></a>pg_raw <span class="sc">%&lt;&gt;%</span></span>
<span id="cb445-6"><a href="第十一讲回归模型四中介分析.html#cb445-6" tabindex="-1"></a>  <span class="fu">filter</span>(Temperature_t1 <span class="sc">&gt;</span> <span class="fl">34.99</span> <span class="sc">&amp;</span></span>
<span id="cb445-7"><a href="第十一讲回归模型四中介分析.html#cb445-7" tabindex="-1"></a>          Temperature_t2 <span class="sc">&gt;</span> <span class="fl">34.99</span>)</span>
<span id="cb445-8"><a href="第十一讲回归模型四中介分析.html#cb445-8" tabindex="-1"></a></span>
<span id="cb445-9"><a href="第十一讲回归模型四中介分析.html#cb445-9" tabindex="-1"></a><span class="co"># 前测后测求均值</span></span>
<span id="cb445-10"><a href="第十一讲回归模型四中介分析.html#cb445-10" tabindex="-1"></a>pg_raw <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb445-11"><a href="第十一讲回归模型四中介分析.html#cb445-11" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CBT =</span> (Temperature_t1 <span class="sc">+</span> Temperature_t2)<span class="sc">/</span><span class="dv">2</span>)</span></code></pre></div>
</div>
<div id="代码实现" class="section level3 hasAnchor" number="11.3.6">
<h3><span class="header-section-number">11.3.6</span> 代码实现<a href="第十一讲回归模型四中介分析.html#代码实现" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>数据准备好之后，我们需要选择合适的R包。</p>
<div id="lavaan-介绍" class="section level4 hasAnchor" number="11.3.6.1">
<h4><span class="header-section-number">11.3.6.1</span> lavaan 介绍<a href="第十一讲回归模型四中介分析.html#lavaan-介绍" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>lavaan包专门用于结构方程模型（SEM）的估计，如CFA、EFA、Multiple
groups、Growth curves等。 现在lavaan包在R中做SEM是最常用的，
因为它的教程非常的全面，我们基本可以跟随教程，完整的把这些分析都做下来。
当然lavaan并不是唯一的，R中还有一些其他的包来做结构方程模型。</p>
<ul>
<li>基本语法 <span class="math inline">\(^*\)</span>：</li>
</ul>
<table>
<thead>
<tr class="header">
<th>formula type</th>
<th>operator</th>
<th>mnemonic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>latent variable definition</td>
<td><code>=~</code></td>
<td>is measured by</td>
</tr>
<tr class="even">
<td>regression</td>
<td><code>~</code></td>
<td>is regressed on</td>
</tr>
<tr class="odd">
<td>(residual) (co)variance</td>
<td><code>~~</code></td>
<td>is correlated with</td>
</tr>
<tr class="even">
<td>intercept</td>
<td><code>~ 1</code></td>
<td>intercept</td>
</tr>
<tr class="odd">
<td>‘defines’ new parameters</td>
<td><code>:=</code></td>
<td>defines</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Ref: <a href="https://lavaan.ugent.be/tutorial/syntax1.html" class="uri">https://lavaan.ugent.be/tutorial/syntax1.html</a></p>
</blockquote>
<p>这里呈现一些基本语法，很多都与前面讲过的回归模型相似。其中<code>latent variable definition</code>指我们去定义潜变量，但我们这里不过多涉及潜变量，SEM一般分为测量模型与结构模型，这里我们关心的主要是结构模型及中介分析中的路径分析，而不是测量模型中的潜变量。</p>
</div>
<div id="lavaan语句" class="section level4 hasAnchor" number="11.3.6.2">
<h4><span class="header-section-number">11.3.6.2</span> lavaan语句<a href="第十一讲回归模型四中介分析.html#lavaan语句" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>以Penguin_data中的假设为例，我们在lavaan中首先需要去定义模型，再将模型输入到
<code>lavaan::sem</code>中。</p>
<p>具体来说，
先用双引号，将模型写成一个字符串，让lavaan去自动识别<code>med_model &lt;- ""</code>。
模型中将不同的效应分开定义， 比方说我们这里。 -
定义直接效应为<code>CBT ~ c*DEQ</code>，因变量Y为核心体温CBT，自变量X为距赤道距离DEQ。 -
定义中介路径为<code>CSI ~ a*DEQ</code>从自变量DEQ到CSI，<code>CBT ~ b*CSI</code>然后再从CSI到CBT。 -
定义中介效应为<code>ab := a*b</code> - 定义总效应为为<code>total := c + (a*b)</code></p>
<p>可以发现，这里本质上就是把之前线性回归的公式，换成了r代码。
定义模型之后，我们再使用lavaan包进行拟合，这里Bootstrap次数因为时间关系设为100,实际研究中推荐1000次。</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="第十一讲回归模型四中介分析.html#cb446-1" tabindex="-1"></a>med_model <span class="ot">&lt;-</span> <span class="st">&quot;</span></span>
<span id="cb446-2"><a href="第十一讲回归模型四中介分析.html#cb446-2" tabindex="-1"></a><span class="st">  # 直接效应(Y = cX)</span></span>
<span id="cb446-3"><a href="第十一讲回归模型四中介分析.html#cb446-3" tabindex="-1"></a><span class="st">  CBT ~ c*DEQ   # 语法同回归，但需要声明回归系数</span></span>
<span id="cb446-4"><a href="第十一讲回归模型四中介分析.html#cb446-4" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb446-5"><a href="第十一讲回归模型四中介分析.html#cb446-5" tabindex="-1"></a><span class="st">  # 中介路径(M)</span></span>
<span id="cb446-6"><a href="第十一讲回归模型四中介分析.html#cb446-6" tabindex="-1"></a><span class="st">  CSI ~ a*DEQ</span></span>
<span id="cb446-7"><a href="第十一讲回归模型四中介分析.html#cb446-7" tabindex="-1"></a><span class="st">  CBT ~ b*CSI</span></span>
<span id="cb446-8"><a href="第十一讲回归模型四中介分析.html#cb446-8" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb446-9"><a href="第十一讲回归模型四中介分析.html#cb446-9" tabindex="-1"></a><span class="st">  # 定义间接效应c&#39;</span></span>
<span id="cb446-10"><a href="第十一讲回归模型四中介分析.html#cb446-10" tabindex="-1"></a><span class="st">  #注： `:=`意思是根据已有的参数定义新的参数</span></span>
<span id="cb446-11"><a href="第十一讲回归模型四中介分析.html#cb446-11" tabindex="-1"></a><span class="st">  ab := a*b</span></span>
<span id="cb446-12"><a href="第十一讲回归模型四中介分析.html#cb446-12" tabindex="-1"></a></span>
<span id="cb446-13"><a href="第十一讲回归模型四中介分析.html#cb446-13" tabindex="-1"></a><span class="st">  # 总效应</span></span>
<span id="cb446-14"><a href="第十一讲回归模型四中介分析.html#cb446-14" tabindex="-1"></a><span class="st">  total := c + (a*b)&quot;</span></span>
<span id="cb446-15"><a href="第十一讲回归模型四中介分析.html#cb446-15" tabindex="-1"></a><span class="co"># 注：这里数据仅以处于浪漫关系中的个体为例</span></span>
<span id="cb446-16"><a href="第十一讲回归模型四中介分析.html#cb446-16" tabindex="-1"></a>fit <span class="ot">&lt;-</span> lavaan<span class="sc">::</span><span class="fu">sem</span>(med_model,</span>
<span id="cb446-17"><a href="第十一讲回归模型四中介分析.html#cb446-17" tabindex="-1"></a>           <span class="at">data =</span> pg_raw <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(romantic <span class="sc">==</span> <span class="dv">1</span>),</span>
<span id="cb446-18"><a href="第十一讲回归模型四中介分析.html#cb446-18" tabindex="-1"></a>           <span class="at">bootstrap =</span> <span class="dv">100</span> <span class="co"># 建议1000</span></span>
<span id="cb446-19"><a href="第十一讲回归模型四中介分析.html#cb446-19" tabindex="-1"></a>           )</span></code></pre></div>
<blockquote>
<p>Tips:有一些同学可能不太习惯这种带有一定随机过程的结果，
比如说跑了两次的结果不太一样。实际上，不管是使用bootstrap还是贝叶斯，这种带一些随机过程的结果输出，总体上大致相似，只是每一次输出的结果可能不会精确的一致。</p>
</blockquote>
<p>这个结果对于大部分习惯于论文结果格式的人来说，可能会觉得比较乱。不过我们仔细观察可以发现，输出结果与我们的论文中介模型图数值有着完整的对应关系，数值也会因随机过程有些微区别。</p>
<p><img src="_main_files/figure-html/unnamed-chunk-255-1.png" width="435" style="display: block; margin: auto;" /><img src="pic/chp11/lav.png" width="868" style="display: block; margin: auto;" /></p>
<p>我们这里绘图使用的是tidySEM包，当然也有semPlot等包可以选择；tidySEM使用了tidyverse风格，并支持lavaan和Mplus等语法对SEM进行建模，可使用help(package
= tidySEM)进行查看。</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="第十一讲回归模型四中介分析.html#cb447-1" tabindex="-1"></a><span class="co">#中介图-tidySEM</span></span>
<span id="cb447-2"><a href="第十一讲回归模型四中介分析.html#cb447-2" tabindex="-1"></a><span class="do">## 与DiagrammeR::get_edges相冲突</span></span>
<span id="cb447-3"><a href="第十一讲回归模型四中介分析.html#cb447-3" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">&quot;package:DiagrammeR&quot;</span>, <span class="at">unload =</span> <span class="cn">TRUE</span>)</span>
<span id="cb447-4"><a href="第十一讲回归模型四中介分析.html#cb447-4" tabindex="-1"></a><span class="do">## 细节修改可在Vignettes中查看tidySEM::Plotting_graphs</span></span>
<span id="cb447-5"><a href="第十一讲回归模型四中介分析.html#cb447-5" tabindex="-1"></a>lay <span class="ot">=</span> <span class="fu">get_layout</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;CSI&quot;</span>, <span class="st">&quot;&quot;</span>,</span>
<span id="cb447-6"><a href="第十一讲回归模型四中介分析.html#cb447-6" tabindex="-1"></a>                 <span class="st">&quot;DEQ&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;CBT&quot;</span>, </span>
<span id="cb447-7"><a href="第十一讲回归模型四中介分析.html#cb447-7" tabindex="-1"></a>                 <span class="at">rows =</span> <span class="dv">2</span>)</span>
<span id="cb447-8"><a href="第十一讲回归模型四中介分析.html#cb447-8" tabindex="-1"></a>tidySEM<span class="sc">::</span><span class="fu">graph_sem</span>(fit,<span class="at">digits =</span> <span class="dv">3</span>,</span>
<span id="cb447-9"><a href="第十一讲回归模型四中介分析.html#cb447-9" tabindex="-1"></a>                   <span class="at">layout =</span> lay)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-256-1.png" width="672" style="display: block; margin: auto;" /></p>
<blockquote>
<p>Tips:我们使用<code>tidySEM::</code>的话，可能与其他包中的函数产生冲突，一般我们在函数前面加这个包的名字就可以解决，但当我们调用的函数内部又要调用冲突函数时，我们需要通过<code>detach</code>函数来避免冲突。</p>
</blockquote>
</div>
</div>
<div id="process-in-brucer" class="section level3 hasAnchor" number="11.3.7">
<h3><span class="header-section-number">11.3.7</span> PROCESS in bruceR()<a href="第十一讲回归模型四中介分析.html#process-in-brucer" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>我们之前提到过，心理学同行中很多人会用SPSS中的PROCESS宏来进行中介分析。
前两年，BruceR的开发者包博士， 他也将类似功能加入了BruceR包里面。
bruceR包中介分析的用法非常符合我们心理学研究者的习惯，我们用<code>bruceR::PROCESS</code>
定义x、y、meds，再设定bootstrap的次数即可。</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="第十一讲回归模型四中介分析.html#cb448-1" tabindex="-1"></a><span class="co">#[bruceR::PROCESS]</span></span>
<span id="cb448-2"><a href="第十一讲回归模型四中介分析.html#cb448-2" tabindex="-1"></a></span>
<span id="cb448-3"><a href="第十一讲回归模型四中介分析.html#cb448-3" tabindex="-1"></a><span class="do">## RUN IN CONSOLE !!!</span></span>
<span id="cb448-4"><a href="第十一讲回归模型四中介分析.html#cb448-4" tabindex="-1"></a>pg_raw <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(romantic <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb448-5"><a href="第十一讲回归模型四中介分析.html#cb448-5" tabindex="-1"></a>  bruceR<span class="sc">::</span><span class="fu">PROCESS</span>( <span class="do">## 注意这里默认nsim = 100，建议1000</span></span>
<span id="cb448-6"><a href="第十一讲回归模型四中介分析.html#cb448-6" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">&#39;DEQ&#39;</span>, <span class="at">y =</span> <span class="st">&#39;CBT&#39;</span>,<span class="at">meds =</span> <span class="st">&#39;CSI&#39;</span>,<span class="at">nsim =</span> <span class="dv">100</span>)</span></code></pre></div>
<pre><code>## 
## ****************** PART 1. Regression Model Summary ******************
## 
## PROCESS Model Code : 4 (Hayes, 2018; www.guilford.com/p/hayes3)
## PROCESS Model Type : Simple Mediation
## -    Outcome (Y) : CBT
## -  Predictor (X) : DEQ
## -  Mediators (M) : CSI
## - Moderators (W) : -
## - Covariates (C) : -
## -   HLM Clusters : -
## 
## All numeric predictors have been grand-mean centered.
## (For details, please see the help page of PROCESS.)
## 
## Formula of Mediator:
## -    CSI ~ DEQ
## Formula of Outcome:
## -    CBT ~ DEQ + CSI
## 
## CAUTION:
##   Fixed effect (coef.) of a predictor involved in an interaction
##   denotes its &quot;simple effect/slope&quot; at the other predictor = 0.
##   Only when all predictors in an interaction are mean-centered
##   can the fixed effect denote the &quot;main effect&quot;!
##   
## Model Summary
## 
## ──────────────────────────────────────────────────
##              (1) CBT      (2) CSI      (3) CBT    
## ──────────────────────────────────────────────────
## (Intercept)   36.426 ***    7.159 ***   36.426 ***
##               (0.015)      (0.050)      (0.015)   
## DEQ           -0.001        0.029 ***   -0.002    
##               (0.001)      (0.004)      (0.001)   
## CSI                                      0.046 ***
##                                         (0.011)   
## ──────────────────────────────────────────────────
## R^2            0.001        0.082        0.024    
## Adj. R^2      -0.001        0.081        0.021    
## Num. obs.    763          763          763        
## ──────────────────────────────────────────────────
## Note. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.
## 
## ************ PART 2. Mediation/Moderation Effect Estimate ************
## 
## Package Use : ‘mediation’ (v4.5.0)
## Effect Type : Simple Mediation (Model 4)
## Sample Size : 763 (37 missing observations deleted)
## Random Seed : set.seed()
## Simulations : 100 (Bootstrap)</code></pre>
<pre><code>## 
## Warning: nsim=1000 (or larger) is suggested!</code></pre>
<pre><code>## 
## Running 100 simulations...
## Indirect Path: &quot;DEQ&quot; (X) ==&gt; &quot;CSI&quot; (M) ==&gt; &quot;CBT&quot; (Y)
## ───────────────────────────────────────────────────────────────
##                Effect    S.E.      z     p        [Boot 95% CI]
## ───────────────────────────────────────────────────────────────
## Indirect (ab)   0.001 (0.000)  4.075 &lt;.001 *** [ 0.001,  0.002]
## Direct (c&#39;)    -0.002 (0.001) -1.650  .099 .   [-0.004, -0.000]
## Total (c)      -0.001 (0.001) -0.603  .546     [-0.003,  0.001]
## ───────────────────────────────────────────────────────────────
## Percentile Bootstrap Confidence Interval
## (SE and CI are estimated based on 100 Bootstrap samples.)
## 
## Note. The results based on bootstrapping or other random processes
## are unlikely identical to other statistical software (e.g., SPSS).
## To make results reproducible, you need to set a seed (any number).
## Please see the help page for details: help(PROCESS)
## Ignore this note if you have already set a seed. :)</code></pre>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="第十一讲回归模型四中介分析.html#cb452-1" tabindex="-1"></a><span class="co">#bruceR::PROCESS-Regression</span></span>
<span id="cb452-2"><a href="第十一讲回归模型四中介分析.html#cb452-2" tabindex="-1"></a></span>
<span id="cb452-3"><a href="第十一讲回归模型四中介分析.html#cb452-3" tabindex="-1"></a><span class="do">## RUN IN CONSOLE !!!</span></span>
<span id="cb452-4"><a href="第十一讲回归模型四中介分析.html#cb452-4" tabindex="-1"></a>pg_raw <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(romantic <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb452-5"><a href="第十一讲回归模型四中介分析.html#cb452-5" tabindex="-1"></a>  bruceR<span class="sc">::</span><span class="fu">PROCESS</span>( <span class="do">## 注意这里默认nsim = 100，建议1000</span></span>
<span id="cb452-6"><a href="第十一讲回归模型四中介分析.html#cb452-6" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">&#39;DEQ&#39;</span>, <span class="at">y =</span> <span class="st">&#39;CBT&#39;</span>,<span class="at">meds =</span> <span class="st">&#39;CSI&#39;</span>,<span class="at">nsim =</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb452-7"><a href="第十一讲回归模型四中介分析.html#cb452-7" tabindex="-1"></a>  <span class="fu">capture.output</span>() <span class="sc">%&gt;%</span> .[<span class="dv">27</span><span class="sc">:</span><span class="dv">43</span>]</span></code></pre></div>
<pre><code>## 
## Warning: nsim=1000 (or larger) is suggested!</code></pre>
<pre><code>##  [1] &quot;Model Summary&quot;                                     
##  [2] &quot;&quot;                                                  
##  [3] &quot;──────────────────────────────────────────────────&quot;
##  [4] &quot;             (1) CBT      (2) CSI      (3) CBT    &quot;
##  [5] &quot;──────────────────────────────────────────────────&quot;
##  [6] &quot;(Intercept)   36.426 ***    7.159 ***   36.426 ***&quot;
##  [7] &quot;              (0.015)      (0.050)      (0.015)   &quot;
##  [8] &quot;DEQ           -0.001        0.029 ***   -0.002    &quot;
##  [9] &quot;              (0.001)      (0.004)      (0.001)   &quot;
## [10] &quot;CSI                                      0.046 ***&quot;
## [11] &quot;                                        (0.011)   &quot;
## [12] &quot;──────────────────────────────────────────────────&quot;
## [13] &quot;R^2            0.001        0.082        0.024    &quot;
## [14] &quot;Adj. R^2      -0.001        0.081        0.021    &quot;
## [15] &quot;Num. obs.    763          763          763        &quot;
## [16] &quot;──────────────────────────────────────────────────&quot;
## [17] &quot;Note. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.&quot;</code></pre>
<pre><code>## 
## Warning: nsim=1000 (or larger) is suggested!</code></pre>
<pre><code>##  [1] &quot;Package Use : ‘mediation’ (v4.5.0)&quot;                            
##  [2] &quot;Effect Type : Simple Mediation (Model 4)&quot;                      
##  [3] &quot;Sample Size : 763 (37 missing observations deleted)&quot;           
##  [4] &quot;Random Seed : set.seed()&quot;                                      
##  [5] &quot;Simulations : 100 (Bootstrap)&quot;                                 
##  [6] &quot;&quot;                                                              
##  [7] &quot;Running 100 simulations...&quot;                                    
##  [8] &quot;Indirect Path: \&quot;DEQ\&quot; (X) ==&gt; \&quot;CSI\&quot; (M) ==&gt; \&quot;CBT\&quot; (Y)&quot;    
##  [9] &quot;──────────────────────────────────────────────────────────────&quot;
## [10] &quot;               Effect    S.E.      z     p       [Boot 95% CI]&quot;
## [11] &quot;──────────────────────────────────────────────────────────────&quot;
## [12] &quot;Indirect (ab)   0.001 (0.000)  3.405 &lt;.001 *** [ 0.001, 0.002]&quot;
## [13] &quot;Direct (c&#39;)    -0.002 (0.001) -1.606  .108     [-0.005, 0.000]&quot;
## [14] &quot;Total (c)      -0.001 (0.001) -0.601  .548     [-0.003, 0.001]&quot;
## [15] &quot;──────────────────────────────────────────────────────────────&quot;</code></pre>
<p>可以看到，<code>bruceR::PROCESS</code>的结果输出很符合我们在论文中看到的结果呈现方式，
对我们研究生或者研究者来说，非常友好，而且跑出来的结果还可以输出到Word文档中去。</p>
<p>R包给我们的便利是我们可以使用其快速得到想要的统计值，但回到我们这节课关于因果关系的讨论，我们需要时刻清楚我们在使用怎样的一个统计系数，我们该如何去验证变量间的因果关系。我们很容易直觉的认为中介模型是帮助我们去得到某种机制，帮助我们去获得某种因果关系。但实际上我们推断因果关系时不能仅数据与统计模型，也依赖于我们如何设计研究，收集数据。如果前提假设未能满足，那么统计本身并不能带来令人信服的结果。</p>
</div>
<div id="反思" class="section level3 hasAnchor" number="11.3.8">
<h3><span class="header-section-number">11.3.8</span> 反思<a href="第十一讲回归模型四中介分析.html#反思" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>在刚才的分析中，我们希望证明：社会复杂度(CSI)可以保护处于恋爱中的个体的体温(CBT)免受寒冷气候(DEQ)的影响，因而通过中介分析来验证假设，但实际上我们得到的只是变量间的相关，而不能得到期望的因果关系。</p>
<p>那当我们做中介分析时，想要去获得某种程度上的因果推断或者提高其可信度，该怎样做呢？</p>
</div>
</div>
<div id="因果推断" class="section level2 hasAnchor" number="11.4">
<h2><span class="header-section-number">11.4</span> 因果推断<a href="第十一讲回归模型四中介分析.html#因果推断" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="因果推断casual-inference" class="section level3 hasAnchor" number="11.4.1">
<h3><span class="header-section-number">11.4.1</span> 因果推断(Casual Inference)<a href="第十一讲回归模型四中介分析.html#因果推断casual-inference" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>因果推断是近些年非常火的话题，它涉及到很多的层面上的知识。
比如从哲学层面思考“
在一个假想的世界当中，如果我们可以进行时间旅行，回溯到过去的话，
那么我们现在物理世界的因果，还是真正的因果吗？”当然这种思辨已经超越了我们所在的宏观个世界了，变得非常的抽象。</p>
<p>回到我们所处的这个世界里，确认变量间存在因果关系至少满足三个条件 <span class="math inline">\(^*\)</span>：</p>
<p><strong>1.时间顺序：</strong>因在果之前发生；</p>
<p><strong>2.共变：</strong>因果之间存在相关，原因的变化伴随结果的变化；</p>
<p><strong>3.排除其他可能的解释</strong></p>
<p>目前社科中常用的一个因果推断框架是反事实(conterfactual)推断，即观察到与事实情况相反的情况，例如：</p>
<blockquote>
<p>一个人得了感冒，
而服用感冒药以后症状得到了缓解，对药效的归因为“如果当时不吃药，感冒就好不了”（即反事实）</p>
<p>但反事实理论框架要求需要针对特定的个体——相同个体，当时在感冒发生时不吃药，且最后“感冒好不了”</p>
<p>由于反事实的“不可观测性”，实际研究中使用随机对照的方式来解决（找到发生在相似个体身上的“反事实情况”）。</p>
<p>刘国芳,程亚华,辛自强.作为因果关系的中介效应及其检验[J].心理技术与应用,2018,6(11):665-676</p>
</blockquote>
<p>这里简单提一下, 在《The Book of Why: The New Science of Cause and
Effect》这本关于因果推断的科普书籍中，作者Judea
Pearl等人提出了一种用于进行反事实推理的方法，叫做“do calculation”
。do算子的基本思想是模拟对系统中某个变量的人工干预，以观察这种干预对其他变量的影响。</p>
</div>
<div id="因果推断与概率" class="section level3 hasAnchor" number="11.4.2">
<h3><span class="header-section-number">11.4.2</span> 因果推断与概率<a href="第十一讲回归模型四中介分析.html#因果推断与概率" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>这里以在我们日常生活中，看到这种因果推断为例，来思考因果推断与概率的关系。</p>
<p>假设100万儿童中已有99%接种了疫苗，1%没有接种。 -
接种疫苗：有1%的可能性出现不良反应，这种不良反应有1%的可能性导致儿童死亡，但不可能得天花。 -
未接种疫苗：有2%的概率得天花。最后，假设天花的致死率是20%。</p>
<p><strong><em>要不要接种？</em></strong></p>
<ul>
<li><p>99万接种：则有990000*1% = 9900的人出现不良反应，9900*1% =
99人因不良反应死亡</p></li>
<li><p>1万未接种：有10000*2% = 200人得了天花，共200*20% = 40人因天花死亡</p></li>
</ul>
<p><strong><em>所以不接种疫苗更好？</em></strong></p>
<p>如果基于一个反事实问题：疫苗接种率为0时会如何？</p>
<p>共100万*2% = 20000人得天花，20000*20% = 4000人会因天花死亡。</p>
<p>我们发现在这个因果推断当中，需要我们经过很精细的推理，去思考其内在的关系。有的时候仅靠直觉的话，可能会推导出差异很大的结论。</p>
<blockquote>
<p>“’因果关系不能被简化为概率’这个认识来之不易……这个概念也存在于我们的直觉中，并且根深蒂固。例如，当我们说“鲁莽驾驶会导致交通事故”或“你会因为懒惰而挂科”时，我们很清楚地知道，前者只是增加了后者发生的可能性，而非必然会让后者发生。”</p>
<p>Ref:《The Book of Why: The New Science of Cause and Effect》</p>
</blockquote>
</div>
<div id="基于实验的中介" class="section level3 hasAnchor" number="11.4.3">
<h3><span class="header-section-number">11.4.3</span> 基于实验的中介<a href="第十一讲回归模型四中介分析.html#基于实验的中介" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>中介模型的数值本身并不能告诉我们因果关系，而在心理学中，利用中介变量去发现因果关系又是很重要的，尤其是当自变量是一些不可干预的变量时，通过干预中介来达到科学研究的目的是很好的方式。这就会涉及到我们如何去验证带有真正的因果的中介，当然，就如同RCT研究中想要得出因果都需要很复杂的假设，要去验证真正有因果的中介，是一件难上加难的事情。</p>
<p>这里，我们用一个国内的学者葛枭语老师，发表在JESP上面一篇文章为例子，来探讨如何验证中介中的因果。</p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-a7d1adfb03363e0753f9" style="width:672px;height:200px;"></div>
<script type="application/json" data-for="htmlwidget-a7d1adfb03363e0753f9">{"x":{"diagram":"digraph {\n  graph [layout = dot,rankdir = LR]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n\n  X -> M\n  X -> Y\n  M -> Y\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>假设：教材难度(X)通过焦虑(M)来影响努力程度(Y)，可以穷举出在哪些情况下我们不能验证中介中的因果：</p>
<ul>
<li><p>教材难度(X)不能影响焦虑(M)</p></li>
<li><p>焦虑(M)不能影响努力程度(Y)</p></li>
<li><p>教材难度(X)可以影响焦虑(M)，焦虑(M)也可以影响努力程度(Y)，由 X
的变化引起的 M 的变化并不会导致 Y 的变化（即 M 对 Y 的影响与 X 对 Y
的影响无关）。</p></li>
</ul>
<p>• 操纵X</p>
<p>• 测量 M</p>
<p>• 测量 Y</p>
<p>对X进行操纵（如使用不同难度的教材），可以验证X对M的因果关系，但M与Y之间的因果关系并没有得到验证</p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-5dffeba5fe71d15de5e6" style="width:672px;height:200px;"></div>
<script type="application/json" data-for="htmlwidget-5dffeba5fe71d15de5e6">{"x":{"diagram":"digraph {\n  graph [layout = dot,rankdir = LR]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n\n  X -> M\n  X -> Y\n  M -> Y\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>但如果我们理论假设错误，测量的是焦虑（A），但实际上实验操纵引发的中介应为恐惧(M,即实际路径应为X -
M - Y,而我们测量路径为X - A -
Y)，那么刚才的实验设计可能无法证伪，因此需要对A进行操纵：</p>
<p>• 操纵 X</p>
<p>• 操纵 A</p>
<p>• 测量 Y</p>
<p>对X(如使用不同难度的教材)和A(控制组 vs
提供相关辅导以减轻焦虑)进行操纵，如果对A的操纵不能影响Y，则可以证明中介路径不合理</p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-a126458c74403c9a2911" style="width:672px;height:200px;"></div>
<script type="application/json" data-for="htmlwidget-a126458c74403c9a2911">{"x":{"diagram":"digraph {\n  graph [layout = dot,rankdir = LR]\n  # 定义节点\n  node [shape = box, style = filled, fillcolor = \"lightblue\",height = 0.3,weight = 0.3,fontsize = 10]\n \n  # 定义边\n  edge [color = black, arrowhead = vee,fontsize = 10]\n\n  X -> M\n  X -> Y\n  M -> Y\n  X -> A\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>所以这里意味着我们要去进行带有因果性质的中介分析时，我们要做很多科学的思考，
在实验设计上，尽量去控制混淆变量，这样的话才能够去真正的把因果关系搞清楚。</p>
<p>如果去看其他的一些领域的文章，
比如生物、农业或者精神疾病、公共卫生等领域，
其研究能够使用大量的数据，进行相对随机化的处理，就有可能通过中介模型，加上一些很强的统计的assumption，最终进行因果推断。</p>
<p>而对于我们心理学领域，很多问卷研究中，即便有几千人的数据，做了一个看起来很漂亮的模型，也很难发到真正的很好的期刊上面。因为其中的因果推断是受到质疑的，如果要把变量关系理清楚的话，需要投入大量的精力与时间，包括研究设计、统计训练等，不一定会比做认知实验的研究者花的时间少。</p>
</div>
</div>
<div id="参考资料推荐" class="section level2 hasAnchor" number="11.5">
<h2><span class="header-section-number">11.5</span> 参考资料推荐<a href="第十一讲回归模型四中介分析.html#参考资料推荐" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>在此我们推荐一些相关的参考资料：</p>
<p>首先是葛枭语老师发表在JESP上实验验证中介模型的文章 (<a href="https://doi.org/10.1016/j.jesp.2023.104507">葛枭语,
2023</a>)，
我们刚刚提到的是其中最简单的一个形式，大家如果感兴趣的话，可以去深入研究一下。</p>
<p>另外，在AMPPS杂志上，最近也有一个探讨如何通过实验设计，去做因果性质的中介分析的文章
(<a href="https://journals.sagepub.com/doi/10.1177/25152459211047227">Bullock et al , 2023,
AMPPS</a>)。</p>
<p>还有几个稍微科普性质一点的文章，作者名叫Julia M. Rohrer。 我们Open
Science之前请过她来做过报告。当时的标题叫做“随意的因果推断”。她在AMPPS发了一个篇科普的文章，就通过模型去把变量之间的因果关系梳理清楚
(<a href="https://doi.org/10.1177/2515245917745629">Rohrer, 2018</a>)，</p>
<p>他们最近又有一篇文章叫做“A lot of process” (<a href="https://doi.org/10.1177/25152459221095827">Rohrer,
2022</a>)，很多用process做的这种中介调节分析，
其中的因果推断能不能成立，也是一个很值得反思的问题。</p>
<p>最后如果大家对统计方面的这个因果关系感兴趣，我是非常推荐去看《Statistical
Rethinking: A Bayesian Course with Examples in R and
Stan》（统计再思考），一本德国人写的英文书，
这本书把贝叶斯统计、r语言和因果放在一起讨论，形成了独特体系。
此外，作者Richard
McElreath每年都会把他教授这本书的视频录制下来，上传到YouTube上。</p>
</div>
<div id="总结-1" class="section level2 hasAnchor" number="11.6">
<h2><span class="header-section-number">11.6</span> 总结<a href="第十一讲回归模型四中介分析.html#总结-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>最后总结一下，这节课的两个主要目标：</p>
<ol style="list-style-type: decimal">
<li>第一个目标，就是介绍R语言中实现SEM数据分析的完整流程，包括使用
<code>lavaan</code>等R包的方法。</li>
</ol>
<p>如果大家有需要去做中介、调节等研究，Lavaan包提供的教程，一般来说是足够的，
不过有一需要注意的点——如果使用不同的软件、不同的包去跑SEM，输出结果可能会不一样，
因为模型内置的这些参数设定可能有一些不同的。</p>
<p>这其中我没有过度去讲解代码，因为如果理解背后原理的话，通过软件或者R包教程，都能得到很清晰的解释。</p>
<ol start="2" style="list-style-type: decimal">
<li>更重要的第二个目标，是关于中介分析与因果推断</li>
</ol>
<p>这里想介绍的一个观点就是：我们在用统计的中介模型的时，并没有进行严格的因果推断，
它某种程度上是一种相关，只有在极少数的情况下，其因果关系才是成立的。要进行严谨的、带有因果性质的中介分析，需要做很多的工作。当然这里也鼓励大家往这个方向去发展，如果我们立志要在纷繁复杂的社会科学背景下，在各个变量之间建立一个因果关系，并将其解释清楚，那还是值得去下功夫的。</p>
<blockquote>
<p>Ref:</p>
<ul>
<li><p>lavaan(提供了完整的SEM代码教程):
<a href="https://lavaan.ugent.be/tutorial/" class="uri">https://lavaan.ugent.be/tutorial/</a></p></li>
<li><p>通过实验来验证中介效应(<a href="https://doi.org/10.1016/j.jesp.2023.104507">葛枭语,
2023</a>)</p></li>
<li><p>内隐中介分析(<a href="https://journals.sagepub.com/doi/10.1177/25152459211047227">Bullock et al , 2023,
AMPPS</a>)</p></li>
<li><p>相关不等于因果(<a href="https://doi.org/10.1177/2515245917745629">Rohrer,
2018</a>)</p></li>
<li><p>A lot of processes (<a href="https://doi.org/10.1177/25152459221095827">Rohrer,
2022</a>)</p></li>
</ul>
</blockquote>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="第十讲回归模型三广义线性模型.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="第十二讲数据可视化进阶.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hcp4715/R4PsyBook/tree/main/Book/1011-lesson11_2024.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
